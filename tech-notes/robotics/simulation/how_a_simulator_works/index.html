<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="ie=edge"/><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/><meta name="generator" content="Gatsby 3.11.0"/><style type="text/css">
    .anchor.before {
      position: absolute;
      top: 0;
      left: 0;
      transform: translateX(-100%);
      padding-right: 4px;
    }
    .anchor.after {
      display: inline-block;
      padding-left: 4px;
    }
    h1 .anchor svg,
    h2 .anchor svg,
    h3 .anchor svg,
    h4 .anchor svg,
    h5 .anchor svg,
    h6 .anchor svg {
      visibility: hidden;
    }
    h1:hover .anchor svg,
    h2:hover .anchor svg,
    h3:hover .anchor svg,
    h4:hover .anchor svg,
    h5:hover .anchor svg,
    h6:hover .anchor svg,
    h1 .anchor:focus svg,
    h2 .anchor:focus svg,
    h3 .anchor:focus svg,
    h4 .anchor:focus svg,
    h5 .anchor:focus svg,
    h6 .anchor:focus svg {
      visibility: visible;
    }
  </style><script>
    document.addEventListener("DOMContentLoaded", function(event) {
      var hash = window.decodeURI(location.hash.replace('#', ''))
      if (hash !== '') {
        var element = document.getElementById(hash)
        if (element) {
          var scrollTop = window.pageYOffset || document.documentElement.scrollTop || document.body.scrollTop
          var clientTop = document.documentElement.clientTop || document.body.clientTop || 0
          var offset = element.getBoundingClientRect().top + scrollTop - clientTop
          // Wait for the browser to finish rendering before scrolling.
          setTimeout((function() {
            window.scrollTo(0, offset - 0)
          }), 0)
        }
      }
    })
  </script><title data-react-helmet="true">How A Simulator Works | Ruixiang&#x27;s Notes</title><meta data-react-helmet="true" name="description" content="Technical notes created by Ruixiang Du"/><meta data-react-helmet="true" name="image" content="https://note.rdu.im/banner.png"/><meta data-react-helmet="true" http-equiv="x-ua-compatible" content="IE=edge,chrome=1"/><meta data-react-helmet="true" name="MobileOptimized" content="320"/><meta data-react-helmet="true" name="HandheldFriendly" content="True"/><meta data-react-helmet="true" name="google" content="notranslate"/><meta data-react-helmet="true" name="referrer" content="no-referrer-when-downgrade"/><meta data-react-helmet="true" property="og:url" content="https://note.rdu.im/tech-notes/robotics/simulation/how_a_simulator_works/"/><meta data-react-helmet="true" property="og:type" content="website"/><meta data-react-helmet="true" property="og:title" content="How A Simulator Works | Ruixiang&#x27;s Notes"/><meta data-react-helmet="true" property="og:description" content="Technical notes created by Ruixiang Du"/><meta data-react-helmet="true" property="og:locale" content="en"/><meta data-react-helmet="true" property="og:site_name" content="Ruixiang&#x27;s Notes"/><meta data-react-helmet="true" property="og:image" content="https://note.rdu.im/banner.png"/><meta data-react-helmet="true" property="og:image:secure_url" content="https://note.rdu.im/banner.png"/><meta data-react-helmet="true" property="og:image:alt" content="Banner"/><meta data-react-helmet="true" property="og:image:type" content="image/png"/><meta data-react-helmet="true" property="og:image:width" content="1200"/><meta data-react-helmet="true" property="og:image:height" content="630"/><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"/><meta data-react-helmet="true" name="twitter:title" content="How A Simulator Works | Ruixiang&#x27;s Notes"/><meta data-react-helmet="true" name="twitter:site" content="Ruixiang Du"/><meta data-react-helmet="true" name="twitter:creator" content="Ruixiang Du"/><meta data-react-helmet="true" name="twitter:image" content="https://note.rdu.im/banner.png"/><meta data-react-helmet="true" name="twitter:image:src" content="https://note.rdu.im/banner.png"/><meta data-react-helmet="true" name="twitter:image:alt" content="Banner"/><meta data-react-helmet="true" name="twitter:image:width" content="1200"/><meta data-react-helmet="true" name="twitter:image:height" content="630"/><script data-react-helmet="true" type="application/ld+json">[{"@context":"http://schema.org","@type":"WebSite","url":"https://note.rdu.im/tech-notes/robotics/simulation/how_a_simulator_works/","name":"How A Simulator Works","alternateName":"Ruixiang's Notes"}]</script><link rel="icon" href="/favicon-32x32.png?v=9dfeb65a7a1965a277fc3bab010b313d" type="image/png"/><link rel="manifest" href="/manifest.webmanifest" crossorigin="anonymous"/><link rel="apple-touch-icon" sizes="48x48" href="/icons/icon-48x48.png?v=9dfeb65a7a1965a277fc3bab010b313d"/><link rel="apple-touch-icon" sizes="72x72" href="/icons/icon-72x72.png?v=9dfeb65a7a1965a277fc3bab010b313d"/><link rel="apple-touch-icon" sizes="96x96" href="/icons/icon-96x96.png?v=9dfeb65a7a1965a277fc3bab010b313d"/><link rel="apple-touch-icon" sizes="144x144" href="/icons/icon-144x144.png?v=9dfeb65a7a1965a277fc3bab010b313d"/><link rel="apple-touch-icon" sizes="192x192" href="/icons/icon-192x192.png?v=9dfeb65a7a1965a277fc3bab010b313d"/><link rel="apple-touch-icon" sizes="256x256" href="/icons/icon-256x256.png?v=9dfeb65a7a1965a277fc3bab010b313d"/><link rel="apple-touch-icon" sizes="384x384" href="/icons/icon-384x384.png?v=9dfeb65a7a1965a277fc3bab010b313d"/><link rel="apple-touch-icon" sizes="512x512" href="/icons/icon-512x512.png?v=9dfeb65a7a1965a277fc3bab010b313d"/><link rel="sitemap" type="application/xml" href="/sitemap.xml"/><link rel="canonical" href="https://note.rdu.im/tech-notes/robotics/simulation/how_a_simulator_works" data-baseprotocol="https:" data-basehost="note.rdu.im"/><link as="script" rel="preload" href="/webpack-runtime-54a65bf2e0754daa74a1.js"/><link as="script" rel="preload" href="/framework-142d678a22ed4f706a7c.js"/><link as="script" rel="preload" href="/f0e45107-d06ba0dd881ba746a4dc.js"/><link as="script" rel="preload" href="/app-4ed2a2c5778d7f379cc6.js"/><link as="script" rel="preload" href="/545f34e4-639c3bde161e6d86e76b.js"/><link as="script" rel="preload" href="/5e2a4920-0d19c636721221f53e2d.js"/><link as="script" rel="preload" href="/252f366e-6c2ee8b1760f48c82b74.js"/><link as="script" rel="preload" href="/a7629950cb7a18c7593baf47d0acfe798f1cddc4-71726fa5c7beedace9e8.js"/><link as="script" rel="preload" href="/component---node-modules-rocketseat-gatsby-theme-docs-core-src-templates-docs-query-js-fef82a758713bf757015.js"/><link as="fetch" rel="preload" href="/page-data/tech-notes/robotics/simulation/how_a_simulator_works/page-data.json" crossorigin="anonymous"/><link as="fetch" rel="preload" href="/page-data/sq/d/1954253342.json" crossorigin="anonymous"/><link as="fetch" rel="preload" href="/page-data/sq/d/2328931024.json" crossorigin="anonymous"/><link as="fetch" rel="preload" href="/page-data/sq/d/2501019404.json" crossorigin="anonymous"/><link as="fetch" rel="preload" href="/page-data/sq/d/973074209.json" crossorigin="anonymous"/><link as="fetch" rel="preload" href="/page-data/app-data.json" crossorigin="anonymous"/></head><body><div id="___gatsby"><style data-emotion="css-global 3gwfsf">*,*::after,*::before{margin:0;padding:0;box-sizing:border-box;}body{font-size:16px;font-family:-apple-system,BlinkMacSystemFont,'Segoe UI',Roboto,Oxygen,Ubuntu,Cantarell,'Open Sans','Helvetica Neue',sans-serif;background-color:#FFFFFF;text-rendering:optimizelegibility;-webkit-font-smoothing:antialiased;overflow-y:scroll;}h1{font-size:32px;color:#3D3D4D;font-weight:bold;margin-bottom:24px;}h2{font-size:24px;}h3{font-size:18px;}h4{font-size:16px;}h2,h3,h4,h5,h6{color:#3D3D4D;margin:24px 0 16px 0;font-weight:bold;}p{color:#6C6C80;font-size:16px;line-height:28px;margin-bottom:16px;font-weight:400;}code.inline-code{display:inline-block;vertical-align:middle;line-height:1;padding:0.2em;background-color:#44475a;color:rgba(248, 248, 242);font-size:14px;border-radius:3px;font-feature-settings:'clig' 0,'calt' 0;font-variant:no-common-ligatures no-discretionary-ligatures no-historical-ligatures no-contextual;}h1 code.inline-code,h2 code.inline-code{font-size:calc(100% - 5px);padding:4px;}a{color:#6C6C80;font-weight:bold;-webkit-text-decoration:none;text-decoration:none;}a:hover{-webkit-text-decoration:underline;text-decoration:underline;}blockquote{margin-bottom:16px;width:100%;}blockquote p{padding:1rem;border-radius:5px;background:#feebc8;color:#2d3748;margin:0;}blockquote p a{color:#2d3748;}hr{border:0;height:0;border-top:1px solid rgba(0, 0, 0, 0.1);border-bottom:1px solid rgba(255, 255, 255, 0.3);}table{border-collapse:separate;border-spacing:0 4px;margin-top:-4px;margin-bottom:16px;width:100%;}table th,table td{margin:0;color:#6C6C80;background-color:#F2F2FA;border:solid 1px #F2F2FA;border-style:solid none;padding:12px;}table th:first-of-type,table td:first-of-type{border-left-style:solid;border-top-left-radius:5px;border-bottom-left-radius:5px;}table th:last-child,table td:last-child{border-right-style:solid;border-bottom-right-radius:5px;border-top-right-radius:5px;}table tr th{color:#3D3D4D;text-align:left;font-weight:bold;}iframe{margin-bottom:16px;}img{max-width:100%;}ul,ol{color:#6C6C80;padding-left:15px;margin-bottom:16px;}ul li,ol li{line-height:28px;}li ul,li ol{margin-bottom:0;}.gatsby-highlight{font-family:Hack,SFMono-Regular,Menlo,Monaco,Consolas,'Liberation Mono','Courier New',monospace;font-variant:no-common-ligatures no-discretionary-ligatures no-historical-ligatures no-contextual;position:relative;z-index:0;margin:0 0 16px 0;overflow:auto;}.gatsby-highlight .token{font-style:normal!important;}pre[class*='language-'] code{font-family:inherit;}pre[class*='language-']::before{background:#d9d7e0;border-radius:0 0 4px 4px;color:#232129;font-size:12px;font-family:inherit;letter-spacing:0.075em;line-height:1;padding:0.25rem 0.5rem;position:absolute;left:1rem;text-align:right;text-transform:uppercase;top:0;}pre[class~='language-js']::before,pre[class~='language-javascript']::before{content:'js';background:#f7df1e;}pre[class~='language-jsx']::before{content:'jsx';background:#61dafb;}pre[class~='language-typescript']::before,pre[class~='language-ts']::before{content:'ts';background:#294e80;color:#fff;}pre[class~='language-tsx']::before{content:'tsx';background:#294e80;color:#fff;}pre[class~='language-graphql']::before{content:'GraphQL';background:#e10098;color:#fff;}pre[class~='language-html']::before{content:'html';background:#005a9c;color:#fff;}pre[class~='language-css']::before{content:'css';background:#ff9800;color:#fff;}pre[class~='language-mdx']::before{content:'mdx';background:#f9ac00;color:#fff;}pre[class~='language-shell']::before{content:'shell';}pre[class~='language-sh']::before{content:'sh';}pre[class~='language-bash']::before{content:'bash';}pre[class~='language-yaml']::before,pre[class~='language-yml']::before{content:'yaml';background:#ffa8df;}pre[class~='language-markdown']::before{content:'md';}pre[class~='language-json']::before,pre[class~='language-json5']::before{content:'json';background:linen;}pre[class~='language-diff']::before{content:'diff';background:#e6ffed;}pre[class~='language-text']::before{content:'text';background:#fff;}pre[class~='language-flow']::before{content:'flow';background:#e8bd36;}</style><div style="outline:none" tabindex="-1" id="gatsby-focus-wrapper"><style data-emotion="css d43d92">.css-d43d92::after{content:'';position:fixed;width:100%;height:100%;left:0;right:0;bottom:0;background-color:rgba(0, 0, 0, 0.8);z-index:999;display:none;}</style><div aria-label="Close menu" class="css-d43d92"></div><style data-emotion="css 1kjnnqm">.css-1kjnnqm{width:100%;max-width:1400px;margin:0 auto;padding:0 24px;display:grid;grid-template-columns:280px calc(100% - 320px);grid-auto-flow:row;grid-gap:40px;}@media (max-width: 780px){.css-1kjnnqm{padding:24px;grid-template-columns:100%;}}</style><div class="css-1kjnnqm e5jhkut3"><style data-emotion="css 9tjo13">.css-9tjo13{width:100%;overflow-y:auto;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;position:-webkit-sticky;position:sticky;top:0;padding-top:36px;-webkit-transition:-webkit-transform 0.5s;transition:transform 0.5s;height:calc(100vh - 1px);}.css-9tjo13 nav{width:100%;padding-top:24px;-webkit-align-self:flex-start;-ms-flex-item-align:flex-start;align-self:flex-start;-webkit-flex:1;-ms-flex:1;flex:1;}@media (max-width: 780px){.css-9tjo13{max-width:75%;min-width:auto;z-index:1001;position:fixed;top:0;bottom:0;left:0;padding-top:32px;background:#FFFFFF;-webkit-transform:translate3d(
      -100%,
      0,
      0
    );-moz-transform:translate3d(
      -100%,
      0,
      0
    );-ms-transform:translate3d(
      -100%,
      0,
      0
    );transform:translate3d(
      -100%,
      0,
      0
    );}}</style><aside class="css-9tjo13 e1wh78ri5"><style data-emotion="css 2yrou">.css-2yrou{width:100%;}.css-2yrou a{width:100%;padding-left:30px;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:start;-ms-flex-pack:start;-webkit-justify-content:flex-start;justify-content:flex-start;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;}</style><div class="css-2yrou e1wh78ri4"><a aria-label="Go to home page" href="/"><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAKAAAABGCAYAAABL0p+yAAALW3pUWHRSYXcgcHJvZmlsZSB0eXBlIGV4aWYAAHjarZhpciS7DYT/8xQ+AjcQ5HFIgozwDXx8f6huaaSZefY4ntWhrlItXJCJRELh/OufN/yDnxJTDVW0t9Fa5KeOOvLkpMfXz3i+U6zP9/Mz37f4+9v1UNv7RuZS4Vhef+r7jTS5Lj9e+Jgjre/XQ3/fyf090PvGx4DFZ86c2NdFcj2/rqf6Hmic10kbXb8udeXXcb8ffJby/t3nGTqm92T+d/h6oSpRMuGpkvMpXH6++2sFxX9TmRz765vnUlHOa6mBQykfKyEg37b3cYzxa4C+BfnjLPwcfY2/D36e7yfKT7F8gxU4+e2NJL8P/hPiLxOXzxXl7zfGF6r8HOR7rd97XrubtRHR9mZUDB/R8Xd4cBHy8rzW+Ci/wrk+n8GnM80Gcos7Lj47jZRB5YZUk6WZbjrPcafNEms+WTnmvAHKr/WieeRdHKfqn3SzllEMBHPZ+QTHrOTPtaRn3vHMt1NnZks8mhODJV75y0/4Tzf/l0+4d3uIkgdTX7FiXdmZyzIcOf/mKQBJ942bPAH++Lzhj1+IBVVBUJ4wdzY443oNsST94FZ5cC48JxxfKZSC2nsAQsTcwmJSAYHYUpHUUtScNSXi2AFosvJcal4gkESyschcS2k5aCZlmJt3ND3PZskt+2W0CSCkNPKpg9AErFoF/mjtcGhKkSoiTVR6kCGzlVabtNa0uchNLVpVtKlq16Gzl1679Na19z76HHkUNFBGGzr6GGPOHCYTTcaaPD+5svIqqy5Zbenqa6y5oc+uW3bbuvsee1q2YsiENVPrNmyeFA5KceqR046efsaZF67dcuuV267efsedn6i9Uf3l8z+glt6o5Qcpf04/UeNqUP0YIrmciGMGYrkmEFdHAEJnxyz2VGt25ByzODJJIZlFimMTLDliQFhPynLTJ3Y/kPsj3IL0P8It/zfkgkP3/0AuAN2vuP0GNXO52w9iryz0mMZC9nH/9Blyn17U5p8erY8jVo6dVpIvuvazeizh7jbLXXIGSJfT7Q6U0gvK1MQOS5K918xLeFln83v7zqKnFt7tH6/Co8+305QW1xhahXDZvNX8tXFru7uzSVK0LSt6j1paN6d7SpWeTxMLSeb49bYUxjEeMRvk+IpArqel12tZOEm1t+cgXrclfJz83eNrIJlWWVGF1upnGQqI5gsRh0oZANSEKEc98HhGgo0uZUh0fbep3RXgjtbT1Y4n8RZdCX6lsvs8wmA+xLIuJa86D6NW7ZSFWAGMa5BjLZG0gvZqu57l6ZbaOY0Ead36bmMq7Ml1aNy7ULK13inCQIMg1rxB/TDWOXneE+Y+E+VAOQfJiLDOshKL1LnOJUdV0rmCFYEvU88i3CSTtXH6umcduVfLnRayMfdNthNL2GZ1OuQU1nlnnNoGtGPDypawOgY/2LSnY2zVPNg+CXQN/EY/+bvHbwNlFlqhHXTMhfJN5dnp7jxZ7+wVBOpKcnI7LdpFBi7CQPzZew1o34XXhPxytuecVpahE8ZuSGNSvvayb8/VzKXqKOy9dXRoo2sio13qiaEpUmGtTdShJ5Rso4+9OBToxMl4AHHKNNfBg76lTnwiUsPa8xpEbzQEJRD/KtM1a28gym1LLDwOL62tfMY2NJXpN5zCDulCyRsvXTarMBHlJeFiWGbbEeoPQjiU5QghyAQirw2Sw5eW4JRuAD96kUBEi+Ff6jJSJ1GCuFF+JeHfOn4bCEZSNKCVJlxTNypxa8hWLg5dviuRR6jWbXoLIpFkEBdyUbaEVuo9bE717mvj7o3wAJTNZiNXwlQEHgBghxPjEuCSAUWG9bk9tiBZZIalpa1SzhixwpKRj7tMBo6ty0FDRautrIxMnvaW+7J6qibyDp0AsELk9IR9EV9feaNmsNRS94BycEHBOxbTzg5I+oS+QYUhkVJEzexUikimvffrUvtjyy0brDHytmTZrL+3wjxIURUkA0I9ONXya5KEP8imBeOal6a8G4E1a3XfhNB4xySFwtCMrc3NoWDSVm5pLAzt1jE7aNXZDw+R6pltio6ylmXGFUSviXzJfWRkkiFpNZC7kcKYlqkmFGaTTxBPdtzyLG+8WMKseIWBvgpHfAP5d0ftAapaHlPUWytSUhazu4Egbch5StYCetcospWs7ngGRmWCJQhogTbcKxa6a/5M6Opoh2xFmJ0aQJVct/bvqi1zpWZJUMFNO0AinhIOOTqdUTMTLrxBuna6kPUaLStl9LVg6guRvh7ZsdB4WZNQCNnYD079Bv4GBfQ/s3tMTIeYkxzBzjYEuJ8X4H9d0qQx7sMjVzW5Ul6qJvOhKiUuXqu+f+cqEcTm0Oiyf34w1D0ursq+NdVLPUH8gZmWZ0WzVTAFiAhUAQKq34m3YCOH5xa9btzk4iEO7DsR0426FdKBLIwBJQJnDENG9Tx92qVWoWK1prGRv8yjJTnXmjWMKR4W0b2KslY0jKLk3oV+Letd6yKUWLhmua45fbELy7BBgVnE4iSVLxtfZAcpTG3C9ox8Sck701x1oNmYQOQwWXNbuhttCMWeNgSe+Fyn48j87Hr859a+Eh7HbD6je7OHarRAYjTwxcjgILAweNDbYEpuY3cyrGCIc+8Vh4ceFBna0G8c5Ab9SsUUsNYpQfG7mAbkwdO9dB8pou217T3XRti6i1EkhkMIL/qMXVJ4LB6Fz82Gn3a7KQvsOBMsLHk8E/dQyT4BCUNEdXpM8aaw1c4pOA6W2CYx2quQ74UKlckbWAE85KQXI961Sj0BIHQJA55tYocnzrjXmzceDp/ZD1XIQmRLLCHWFY805AQRofKmJ/dj3y4c0Ajr7i1haxG6Vtd1E/Is0bI3hag5UO99i662qCQxYKMUDPeuuiuAPYgJaGBT+qXeAxh+pmbrBcEyhIVi0EL2YigoOzK3IykKpkgULKRIdBy1h2xUSAw9DwWWLeNWLZX7eF52PAWtCOwBwDBZDR4e92SwuJYZSexEs1KePgjrRwa3goHGd+MuLrJO1SH/COsZskIkC6E+HUXzKkGGVF657G/ToeDISUDar3XQBZoK3sF1/oQfDq4HchXlg8DLa588oYix43ge53adE20dujbbND8CBmVt/0cMyoVrIb/J+kuM3IxuTDmWiihiKVjpYI88I96WuXmlGGva7oNwIIjfoaQ2HvOSwGXKagnOrMPIs45Pnk5PSlRSaBWVB2Aj6rXws1hWUnJHjOlBL+lj8jv44Wv0TbpvvlNBCFwh/syh+AkXQ6j6qzqyPLLUVSOwr4gyssCr6BgTJfoOV3kKk1cRmqNKBwBu1q97SoqIEUxs08kUMDIcW1YC3cvEf9aD66diZ0NxyXDTJ55m3gqwM5w0wiaGWG76xAauNFivKklf0EkR5pSBa4C8xf/rt0lEr073wlBy4XAXo/5YoeR1qNScTWi2sQMoAXGKYx94ROMH2h55PCoGpE8Z1HVyRT9fZUNUXeph88noYVdHt0hoXyn86oMUqRm52Q3iSNr4W3utlpadDnqu2N2OUDU3fEg4GccfY2SvtrBs5FjmxkRgnchhlpqOm9528QUM7YF6bCr2CR4WvDKBrwcb5/9EYHXJbQMN2bPu4C0MGUbFRCWErh8lo2s/EIc6Y951c8WjDCXpjyAWfsRLcmX1zf9/gBLvGjDDtGq0sJseRWnwDz5iG917EbajRJ6VUO7ohpKdPXsnzCQq1YCmayCAaGTNgR1JHYgmYKLW9LE0UtDYuazMyCWcI6xZVI4lL6VC9l1O3GiLowHxwqLnK4tdPYvU5VI1zKkLN4uAtHdnOQOK7eP9F4V8WVRZuKJ018C6lbOCeHcOw7D5PIw/Kki4ua2in9z+345vprGgGyP8G4uKCAyWYcNeAAABhWlDQ1BJQ0MgcHJvZmlsZQAAeJx9kT1Iw0AYht+mSqtUHNpBxCFgdbIgKuKoVShChVArtOpgcukfNGlIWlwcBdeCgz+LVQcXZ10dXAVB8AfEzc1J0UVK/C4ptIjxjuMe3vvel7vvAKFRZprVNQ5oetVMJeJiJrsqBl4RpNmDYYRlZhlzkpSE5/i6h4/vdzGe5V335+hTcxYDfCLxLDPMKvEG8fRm1eC8TxxhRVklPiceM+mCxI9cV1x+41xwWOCZETOdmieOEIuFDlY6mBVNjXiKOKpqOuULGZdVzluctXKNte7JXxjK6SvLXKc1hAQWsQQJIhTUUEIZVcRo10mxkKLzuId/0PFL5FLIVQIjxwIq0CA7fvA/+N1bKz854SaF4kD3i21/jACBXaBZt+3vY9tungD+Z+BKb/srDWDmk/R6W4seAf3bwMV1W1P2gMsdYODJkE3Zkfy0hHweeD+jb8oC4Vugd83tW+scpw9AmnqVvAEODoHRAmWve7w72Nm3f2ta/fsBMhNyjYDruwIAAAAGYktHRAD/AP8A/6C9p5MAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAHdElNRQflCAgJLCR1evdPAAAQhklEQVR42u1dfXhU1Zn/vefOTMgHkEC+MBNY2UBmBmYGGJO5ATXtKqtW61Prxj66Cq1An659qk8tXddStLH26eNHd/XZtY+rFV2t2664u63r1tZ21QhNJsEU5iZkhhhp5UM+AoJIPsjce979Y24mM0MSoAaMcn7/ZHLvPeee876/836cc++5gIKCgoKCgoKCgoKCgoLC+QI63zq8cGG4zNToUTCWADwp+k9EFoNfd/HAWsMw+s4nfTjONwJaGn7CzG9oJt02mGtak0QJTmE67kkg9/sA7lR28VMMb0DvBe4Vk65diy6d5w3qLeebPsR5yEECGuWkc0WWtJhZKAIqKCgCKigCKpwRqoPhz1RVVeUoSSgCnnOEQqE8wXgeM2YoAioCnh2CjXf+uOm4AaBXe9rajp1uGQVFwFNiXlCv8AT0Df0JZ9O4QmSsYWk9Mfy/ruu5fQlHlycQfjAYDBYqSSoCnhF8vvoCb1C/TwNaQOgg89iyMWM/v+4HUUG8c0tqDi8SiQyYUzgAIHECuYY3EL49FAo5lWQVAcdHQ4PmCYbXSMdgJ4B8p3QE49HIP3V1dQ2NKUDBaxh4Mvt4T1vbsbjRuk4zzWUghPpNR4cnqF+nhJwJhxJBEl5/+Cp073qQGV0WO//qbWPzztOJDfsTuD6HBhaMdc327W/tBrDSG6hbDJIPe4L6NwWwtisaaVNSVwSEZ8mSWWS6/g3gPJa8Jt7RFjndssdNxw0C9Go0Gj16qmtjRstWAJd5AnXXSPAGbzBs5DnM1e3t7f3KBZ/PAhjUGMQSRJoUQjujslnJx+mVkQKAYIaEgrKAXV1b9gO4sjpQd4VG/GNvUO8mgbu7tkZ6xiuXTD6QkXyMe/3CmouE0B5iMLEmVuzY2vyWop8iYAo7jJbfoKHhd94du78sLf6dNxD+bx6S98fjWw6PnXzQk6fMqEPLZsuE9QMCQhDy7ti2tl8qaSsXPDo2brRiRuQpFwYWMOgocrRtvkD4W9lLbKFQKA+M63Mw8NOxqpobCk33BvUfStPaDKJInjMRVORTBDwtGIbRFzcijdCctZLgdebNfC07+cA4yUcoFHLmmM6tADDkSPjj0ZbH2tvbE0qyygWfEeJ/2LQPwGqfz+caJflYO1a59vb2hM/n84w3f6igCHgGicoIkbzBmgUAnTL5UORTLvjsjFiZ854guUJJQlnAjwUdHZuPADiiJKEsoIIioIKCIuCZgoEGbbI1KkFwENF5tzx33sWATNziDe6+03KEnnYMOCeFwoVgp4XE7QA1KwJ+yuFisTpB/IhmOlax88/YmoS5EqADIAxlHc8HaCoI+8+0SpPJIsLreY7EeuWUFcaFNxDeXO1fWp193BOou8Yb0J9WElIxoIIioIKCIqCCIqCCwvggJYJTwxOs/WsCNQAAgz4PxiYiznwUi2k2AxcScVNSsNpjXdHmbUp640OtBZ/OKBXaDrbkKzbTXgEA5uyrkgeYARCx5TixR0lOQUFBQUFBQUFBQUFhkuGsPZYUCoWcLtd81wcfvCtTKeLEQnj9+mUl5ZXTDx3Ys/+jVFRVdWVOaeWMK0svqOTe/Xve/8RrtaFBq7YKC9zuuXlud7G1b9++SfuY14TMAwYCy/OHcKyVQJUAu0Dkgj3JzcwWQDtB+BU05wP2m2YfGd5geB1A9wNsgUWNvffKn1dXIPw8iG5i8HGndM62H7v/xMAbqFsLyG8ClANwPoimpJ1mZt5NhDcs0BPd0cjvJ1PbJ2QlxDB+28ea/DKD85Kd5y6HlJVSiAoQfw7gowTcASuxdcGCpX85QWNnhv1XSM38SJaciYrsHyKROPGJWx0qLXI9wsBPQZhpy79RClHhkLISkpYTUTNAt2jAZm9Af2Iy7VVIEzsSw20gqgHz/8aM1mtGXFztNGcexUE0C4wXY0akYQJcfF5/wnmjJLlzR7Tt9Y/kghddXOKU5vVEIvJJXb3wLq6bA8l/SmqVr45ta/1Vpm5qbwWJnwAgMJ6MGZGvToZ2T+hKCIN6KUnrjJijp6ftmCeg/5qArwBcNxH3src1e2oi6urZtrkXwOOf5LCPTvCH7Ez5XDP7fMxo2+ANhi8FaCUIa7z+2udiHW2bPlUEBGNgTJtKGEz+pYwniav9S6uhyRBZyBMW/qurK/J+WmyzmAR7wZwzRM6XbaLAreu5+f24XIAvBMTxmNGyYbiMb1Gtj1mbT+B8EBhD+PVwnV5/7SWSqJSIB53S1dzRsfmI339xkSnM5QxcQJB/ikXbfpEdpngWhS+DpHoCihg4IiBf6zLaXsvuoidQtxCQ86VET3dnq+HW9dyp/Xwtg6oJ3MtD8oWxNjvy+PUlELycGOUMJIjpKBMPAlRAoD/GjJbnxhO9ZYmEGH7DgIhHV4F8hKGttMOObwDYBADVi2suIkvzQYDM44d+3tPTc2K4iNdfdwnImgNo6C9ybXy3qWlw0hKQBMbb/2RJkqN4KUO7wnoUTFdAACxoLoDvjJyV65npOoDgYPMbAP4FAKb2y6+DxIMAEcBw6/rP9kQiAwAgpbibiG9m+2bswmcAJDcZF/SkAFWD0ZvQzAYATQmReIhAq5LjRvwRQIqA84J6hQP8EpiWgLgToE5i/C2TWOcJhB+KG61/nxos/tpLQPwGQEJofMQbqFuLfnkfQAUA8kDkJJdYNy+oh9+ORvYOl6uvr3ccPDr4FBjXQoq/kaA9gqynILCMQADjA4BPaZ37iqQ5dWD8a7qiW6LeQLgXRCUgXA6A5oZC04QpngZhIRhw5s2QAJ6zwxxHvykfA8RCgJFzZGAvgNcmXRKSlm4Nf33SlT4l4AmE1xMQZsb2HAx8L8M1RFuvBOONJF94biah+bup3yN1I2a0PczMKaLmHxGpgRQ3IrcQ43tpjdIBYM6c+ikAuRjYTCZ54tsiTQAQj7auBvhZm68ZwbnGWAHQEoD/J89hLolFIzcCfEXSyOBb84J6RapNHW2bmNGYtDRUxJD3SCFuiBmRQuHUqsDcC6IKR9bXMHuPDN4B0AoG/WOso+X/dnQ074DAV1L9JtwVMyL/cMr5tH05fFo+iuid4Tb6/RcX7mxv/yDPYS4B83vJC8TctDAnISU3pu6haeakzILTKDMshHpPMPyKNxD+jXfH7t1EdB/AHcLEpaPuKEXYZ4tnavrhkum53SNziJmuG4JSe7NY080Mx99lRBqZYW+dRus9gbqFeYWDjzPDdErHtelu3s5+W2ySZwUQ1n9K5rX9R6fcMLy7VcxobWVgCCDhZPgzhSk3pxH/7h3bWpoBoKv997sA+oU9yBall5HADUlPgFiKzNta32bwEXtQVExwmJRyoQNa0gO2t7cnGNRr66Ig06hQdxp7J3yHr4l1wYA9QmgKMb/LQAHAJQQCM70Uy1Z8qmMwKVk+wwI1NTWZ3mB4CKAcRqZ710D9cpz5bRf6v5ZAbg2BqhlyK4OklFzT0XnyHB8D/aOFrnFjSzeAH6VzrDqgX022hbey2gsSx0esBboy78G7ky6VZp7U1KSmczKHMg0m42me2E2OCPYcIVuuofc/SLO0w9Yto09O1vqknVMyEonJbQHJtiCMfTGj9Wtxo/VmBt1pn7ttfihUPLpMWCYN0ShfMLf3UhaEjI9Lm6aZYp+0LDp5btLoYxZrk8IlBzGauztbjTGCcx5rWioYrC/0BsK3ewP6q96AfpCIn0k3DxnWTI6ECUg4jmeT3M4PMolG+GWyKlyeSqQW61UglDEwZFnixTNWgyXkmPRjVA0b2owdvEb2rM7oU0IzU3UJy2FNbgKCXLawU1YmUF35Y4A7CFSkJZw/GCMwsewfrlHOOQBAcuayoUjbUDx/KFeMPh44kGaBLvYG6haPeh0l78FEGfX4gnrtEA92M9AI0HP9RTnueLS1BMAJABAajzmPmq44+x6pFDXjeGLKwwzsAWGlJxh+yhsMr2OJV8E4TsAt3Z0t8TPVghRyVKL4gnoNCMX22NmYRU27DGfoQBOU8pIfdcL/HBAwRaCUkDdu3GgxeK19dLXHX6uPQhT7UwU0Pf343FBoOlHSJQhCbmYIOCKYPrJOmtmvXlS3lAXuJcZ3wNxMRA4Q/2xuKDT9JIXJZChCnOl+JGMDiEoE4c6Y0fKcPQUhmVlLliNH5qAgbTTF2Qna8NJklhJ7hwg4AMaHBDiYkUfAehflzIlFIy+cruCHio+ndCnSLXGmFb7L/nXQyY5/HtVCZ+mATS3ltYRJuZOagAyU2WO8NJ2E8WjbqwC/DECQEBuqq5dOzUoChteH51XV1k4bPjzFdHwxre6KTIWOJCy5FmXU5wstmy0kvwjGC11G5IcW+GZm9AOodiWc/15fX+/ISmgK7JFQkGm04EsmCrx3ZN7youphi6kRpmWkLODUBwo5q03Cjr0ImQOJtWl3AAgB+Hks2roybrSu64pGno9Gm46eiewLTGdRmt3K9iTkDYa/C+CLAJ+AFDedtN7NbOuAF2fwgqwRHRBVTDQBJ8SkNjQ0aOwsaCTGTUi6sbzisor4oQN7O4evKSye0yaIVxPhAtL46uJZFe8c2r93JwCUznKfALCaCC7NRH1JmbuguNy9hhm3ApRPBI2BuYWlF2x8/+DeY6FQyJlgrRHAQgBgIQ8eOrB3EwB4FtbUgfEyCJWsWasO73/vvcMH9h4tLne7Caghwry+AdNfOOvC197fv6u/qrZ2mrDoAQLcADmKyyo6Dh3YGwOAkvKK6wEqA+jC0jL3vpJyd5hIPA7ATiTowpLSC7YfOrh3l8dTM1No4iEQ5tuD8J1DB/ak9nopKa+8HYAPRAXFZRXdw7IpmVVxBUD1IISKyypuLimrvK643H1VSbm7rniWe9bM6bN3Hj68e9xExK3rubkJbgRR7XAmO7PMPVBc5q4uLa24qrjc/SgR3cLMPSzEdXGj5c3sOopnVU4l4AsAFReXuYMlZRVlJWXuu4joMhAK7RHpnlk4+4VTteecW0CjZ28ZswgAaAPzFoA7QFiVvujds735HYC+BPAfmFBETLeOTJBG2sD8dQCHQbSUCfcCdIRPaH4ibgRzLxiDLiHqAaA/4VzFwGcZ2M/AHma60bMovNzn02eQ0B4HwcHMu0hSWdoI38XMPcyIgTDHKYdWAoDzhLgXwF/Yde0GsL7af1F1Uo/aCoB3EHCxBF5ixo2QdBuDvwrGYWYuZEHeZPAh6pkwjYFWMN5icGr7Dp/P52KgHAyDmdsB+pLPV1MOAIkc/hGYPwQjCkITCAcAns6MK4jxDE2R232hZbPHk/+0AaxgwjKA48k+8kUC+FciPAFBf0dEuwm4WZgfLhieGjop498WeZaZH2SgjwhfANG3AdFcWpQzD+BnwTgEcIGWYwXxKQYFAsvzMcleF50fChW7dT33bNTtCejf9wb1lpPCAgBev/5tb1BnT0C//9z1tkELBAL55+puk+21TDaM3/ZNtlHR3d5+6GzUm4wnsQ7AA01NTeYoAdJWcPItz3PX242WYeCc6UDtjPAxQiNRYc/NXV5VdWXG/GBVbe00ZtzDjAQR/8en1uUpGnx88Pl8Lumc9mZynZx7CHiZQcdBPAvA5wnIJSlu7epoeVERUOGswK3ruQUDWAXgcwSuBEgyYw+I33RYeKazs/WAkpKCgoKCgoLCBOP/AcHXqUY9+zmiAAAAAElFTkSuQmCC" alt="wiki site logo" style="width:180px"/></a></div><nav><style data-emotion="css qmhqz9">.css-qmhqz9{list-style:none;width:100%;padding-left:0;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:start;-ms-flex-pack:start;-webkit-justify-content:flex-start;justify-content:flex-start;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;}</style><ul class="css-qmhqz9 e1wh78ri3"><style data-emotion="css why3vc">.css-why3vc{font-size:15px;width:100%;-webkit-transition:all 200ms ease-in-out;transition:all 200ms ease-in-out;padding:0 20px;cursor:pointer;}.css-why3vc a,.css-why3vc span{display:block;font-size:15px;color:#6C6C80;background-color:#FFFFFF;padding:4px 10px;margin:4px 0;border-radius:4px;font-weight:normal;-webkit-text-decoration:none;text-decoration:none;width:100%;height:100%;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:start;-ms-flex-pack:start;-webkit-justify-content:flex-start;justify-content:flex-start;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;cursor:pointer;margin:0 auto;-webkit-transition:all 0.2s ease;transition:all 0.2s ease;}.css-why3vc a svg,.css-why3vc span svg{width:20px;height:20px;margin-right:10px;}.css-why3vc a:not(.active-link):hover,.css-why3vc span:not(.active-link):hover{color:#8257E6;}.css-why3vc a.active-link,.css-why3vc span.active-link{color:#8257E6;background-color:#F2F2FA;}@media (max-width: 780px){.css-why3vc a.active-link,.css-why3vc span.active-link{background:#F2F2FA;}}</style><li class="css-why3vc e1wh78ri1"><a href="https://rdu.im" rel="noopener noreferrer">Back to Main Page<svg stroke="currentColor" fill="none" stroke-width="2" viewBox="0 0 24 24" stroke-linecap="round" stroke-linejoin="round" style="width:16px;height:16px;margin-left:10px" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"></path><polyline points="15 3 21 3 21 9"></polyline><line x1="10" y1="14" x2="21" y2="3"></line></svg></a></li><style data-emotion="css mximbs">.css-mximbs{padding-left:30px;width:100%;text-transform:uppercase;font-size:14px;font-weight:bold;margin-top:20px;color:#3D3D4D;letter-spacing:0.142em;}</style><li class="css-mximbs e1wh78ri2">System</li><style data-emotion="css 1cgn8l4">.css-1cgn8l4{list-style:none;width:100%;padding-left:0;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:start;-ms-flex-pack:start;-webkit-justify-content:flex-start;justify-content:flex-start;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;margin:5px 0 0 0;}</style><ul class="css-1cgn8l4 e1wh78ri0"><li class="css-why3vc e1wh78ri1"><a href="/tech-notes/system/software">Software</a></li><li class="css-why3vc e1wh78ri1"><a href="/tech-notes/system/hardware">Hardware</a></li></ul><li class="css-mximbs e1wh78ri2">Program</li><ul class="css-1cgn8l4 e1wh78ri0"><li class="css-why3vc e1wh78ri1"><a href="/tech-notes/program/cpp">C++</a></li><li class="css-why3vc e1wh78ri1"><a href="/tech-notes/program/python">Python</a></li><li class="css-why3vc e1wh78ri1"><a href="/tech-notes/program/tools">Tool</a></li><li class="css-why3vc e1wh78ri1"><a href="/tech-notes/program/library">Library</a></li></ul><li class="css-mximbs e1wh78ri2">Robotics</li><ul class="css-1cgn8l4 e1wh78ri0"><li class="css-why3vc e1wh78ri1"><a href="/tech-notes/robotics/sensing">Sensing</a></li><li class="css-why3vc e1wh78ri1"><a href="/tech-notes/robotics/planning">Planning</a></li><li class="css-why3vc e1wh78ri1"><a href="/tech-notes/robotics/control">Control</a></li><li class="css-why3vc e1wh78ri1"><a href="/tech-notes/robotics/simulation">Simulation</a></li><li class="css-why3vc e1wh78ri1"><a href="/tech-notes/robotics/reference">Reference</a></li></ul><li class="css-mximbs e1wh78ri2">HOWTOs</li><ul class="css-1cgn8l4 e1wh78ri0"><li class="css-why3vc e1wh78ri1"><a href="/tech-notes/howto/howto-list">HOWTO List</a></li></ul><li class="css-mximbs e1wh78ri2">Resource</li><ul class="css-1cgn8l4 e1wh78ri0"><li class="css-why3vc e1wh78ri1"><a href="/collection/resource/tutorial">Tutorial</a></li><li class="css-why3vc e1wh78ri1"><a href="/collection/resource/course">Course</a></li><li class="css-why3vc e1wh78ri1"><a href="/collection/misc/blog">Tech Blog</a></li></ul></ul></nav></aside><style data-emotion="css u8hwp7">.css-u8hwp7{height:100%;padding-top:36px;width:100%;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:start;-ms-flex-pack:start;-webkit-justify-content:flex-start;justify-content:flex-start;position:relative;}@media (max-width: 1200px){.css-u8hwp7{-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;}}@media (max-width: 780px){.css-u8hwp7{padding-top:0;}}</style><main class="css-u8hwp7 e5jhkut1"><style data-emotion="css 1p24zom">.css-1p24zom{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:start;-ms-flex-pack:start;-webkit-justify-content:flex-start;justify-content:flex-start;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;height:40px;margin-bottom:24px;}.css-1p24zom h2{margin:0;border:none;padding:0;font-size:18px;}@media (max-width: 359px){.css-1p24zom h2{font-size:14px;}}.css-1p24zom button{border:none;background:none;cursor:pointer;margin-right:16px;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:start;-ms-flex-pack:start;-webkit-justify-content:flex-start;justify-content:flex-start;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;}@media (min-width: 780px){.css-1p24zom{display:none;}}</style><header class="css-1p24zom esnpb7p0"><button aria-label="Open sidebar" type="button"><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 512 512" aria-hidden="true" height="23" width="23" xmlns="http://www.w3.org/2000/svg"><path d="M32 96v64h448V96H32zm0 128v64h448v-64H32zm0 128v64h448v-64H32z"></path></svg></button><h2>Ruixiang&#x27;s Notes</h2></header><style data-emotion="css 1j7nlw4">.css-1j7nlw4{display:none;}@media (max-width: 1200px){.css-1j7nlw4{display:block;}}</style><h1 class="css-1j7nlw4">How A Simulator Works</h1><style data-emotion="css 1wgy1nw">.css-1wgy1nw{width:100%;max-width:calc(75% - 64px);padding-right:64px;}@media (max-width: 1200px){.css-1wgy1nw{max-width:100%;padding-right:0;-webkit-order:3;-ms-flex-order:3;order:3;}}</style><div class="css-1wgy1nw e5jhkut0"><style data-emotion="css 1fdmakl">@media (max-width: 1200px){.css-1fdmakl{display:none;}}</style><h1 class="css-1fdmakl">How A Simulator Works</h1><h2 id="robot-simulator" style="position:relative"><a href="#robot-simulator" aria-label="robot simulator permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Robot Simulator</h2><p><strong>Understand the Simulation Process</strong></p><p>The process of robot simulation is essentially calculating the system state using it&#x27;s mathematic model with given initial conditions and inputs. Generally we use ordinary differential equations (ODEs) to describe our robots. By solving for the system states from the set of ODEs at discrete time (0, 1<!-- -->*<!-- -->ts, 2<!-- -->*<!-- -->ts, ...) , we can get the simulated behavior of the robot during the simulated period.</p><p>Similarly a physics engine can calculate the state of a system using numerical methods. (Read about ODE/Bullet for more information) We can set a step size (t_phy_s) for the physics engine so that we can get the calculated system state at time t_phy_s, t_phy_s <!-- -->*<!-- --> 2, t_phy_s <!-- -->*<!-- --> 3 ... consecutively when we call the physics engine to do the calculation. If we invoke the calculation at f_phy Hz with the step size of t_phy_s, it means we will have the system state simulated from time 0 to f_phy <!-- -->*<!-- --> t_phy_s in 1 second. For example f_phy = 1k Hz, and t_phy_s = 1ms, after the last calculation iteration we will get the system state at t = 1k <!-- -->*<!-- --> 1ms = 1s. Since the wall time of the real world elapses for 1s and the simulated system state also advances for 1s, we can say that the real-time factor is 1.</p><p>In an extreme condition, if we call the physics engine to calculate very fast and we use a big step size, then by the end of the 1s simulation period, we will get the calculated system state at time t_s &gt; 1s. This means time in the simulator elapses faster than time in the real world, thus real-time factor is greater than 1.</p><p>Of course, limited by the computational power of the computer, the update rate of the physics engine cannot be infinitely high. If a system is extremely complex and the the physics engine cannot get a solution within 1s, then even if we set the step size to be 1s (which is pretty large when simulating a process), we still cannot get a real time factor to be equal or greater than 1.</p><p>As to the simulation step, it involves sensing and rendering. The physics engine can run at a much higher rate while we don&#x27;t necessarily update the result to the user at each step. Hence we may have the physics engine run at 1kHz in the background and only refresh the simulation scene for the user at 50Hz.</p><p>Reference:</p><ul><li><a href="http://gazebosim.org/tutorials/?tut=modifying_world">Gazebo Document - Modifying a world : Physics Properties</a></li><li><a href="http://www.coppeliarobotics.com/helpFiles/en/simulation.htm">V-REP Document - Simulation</a></li></ul><h2 id="robot-simulation-in-v-rep" style="position:relative"><a href="#robot-simulation-in-v-rep" aria-label="robot simulation in v rep permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Robot Simulation in V-REP</h2><p>V-REP (virtual robot experimentation platform) is a dual-licensed software. It provides free educational license for the pro-edu version and source code with GNU GPL license. Compared to Gazebo, V-REP is self-contained (meaning less dependencies), cross-platform (linux/windows/mac) and feature rich (more robots/sensors usable out-of-box). Moreover it&#x27;s more user-friendly and requires less time to set up your customized robot.</p><p>Before starting working with V-REP, I would suggest you to &quot;play with&quot; it for a while. Try out different mobile/non-mobile robots and explore what&#x27;s available from the &quot;Model Browser&quot;. Watch this <a href="https://www.youtube.com/watch?v=xI-ZEewIzzI">video</a>. But at this point don&#x27;t try to grasp every detail yet. Just get yourself familiar with the UI and learn how to change the position/orientation of the robot/component inside the simulation scene.</p><h3 id="key-components-of-a-simulation-in-v-rep" style="position:relative"><a href="#key-components-of-a-simulation-in-v-rep" aria-label="key components of a simulation in v rep permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Key components of a simulation in V-REP</h3><p>There are mainly two parts that you need to take care of for setting up a simulator of your robot. The first part is about the robot. What you need to prepare include the dynamic model (not the mathematic one, but a simplified geometrical model for the physics engine) and the robot mechanical model (a more detailed one compared to the dynamic model for visualization). If you want your robot look better in the simulator, you may also want to prepare texture files, extra 3D components (for example better-looking wheels for your mobile robot).</p><p>The second part is the simulated environment. In V-REP, a simulated environment is called a scene. A scene may include robots, sensors and other elements like furniture, office items. Each one of them is called an object. V-REP makes heavy use of Lua scripts. Almost all objects in the simulation scene are attached with one or more scripts, which are coordinated by the main script which is attached to the scene. The main script controls the &quot;actuation&quot;-&quot;sensing&quot;-&quot;display&quot; process of each object in a simulation step repeatedly to get the simulation running. It also invokes the physics engine to advance in time. Refer to this <a href="http://www.coppeliarobotics.com/helpFiles/en/mainScript.htm">article</a> for more details. As mentioned before, each object is attached with a script. V-REP supports two types of scripts: threaded and non-threaded. In most cases a non-threaded script is used and this type of scripts follows the &quot;actuation&quot;-&quot;sensing&quot;-&quot;display&quot; steps, controlled by the main script. If you want to have more control in addition to the these controlled steps and do something in parallel with the main simulation process, you can do that in a threaded script. Read this <a href="http://www.coppeliarobotics.com/helpFiles/en/childScripts.htm">article</a> about child scripts.</p><p>After getting these two ready, the next thing you need to figure out is how to interface with the simulation scene, such as acquiring sensor data and sending motor commands. Once your robot is simulated in a scene and you can also talk with your robot, you can play with it for whatever purposes, like implementing your dynamic control algothrim or testing the mapping and localization function of your robot, just like you do with your real robot.</p><p>At this point, you should have got a rough idea about how V-REP works. For most of the components provided by V-REP, if they don&#x27;t behave as you desire it to be. Probably you will just need to tweak the attached script. For example, if you want to change the behavior of the propeller module, you just need to open the script, locate to the actuation part and adjust the force/torque formula it use.</p><h3 id="create-a-robot-model" style="position:relative"><a href="#create-a-robot-model" aria-label="create a robot model permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Create a robot model</h3><p>If your robot is very simple (say it only consists of a few primitive shapes - cube, cylinder, sphere ...), you can start creating your robot right in V-REP. And you can use these shapes for both visualization and dynamics simulation. But if your robot is more complicated, you might want to import your mechanical models (.stl/.obj/.dxf files) to V-REP. In this case, the visualization part should be straightforward since your simulated robot is created from the design file of the real robot. However for the physics engine, these (usually non-convex) shapes can be computational in-efficient and potentially unstable. So it&#x27;s preferred that you can create a simplified geometrical model for the dynamics calculation. Refer to this <a href="http://www.coppeliarobotics.com/helpFiles/en/designingDynamicSimulations.htm">article</a> for more details.</p><p>In V-REP, you can use put visualization models and dynamics models in different layers so that you can just inspect the part that you&#x27;re interested in. In V-REP, you need to decide two properties for all parts of your robot: static/non-static, respondable/non-respondable. The basic idea is that non-static (dynamic) parts are considered in the calculation of the physics engine and respondable parts are considered in the collision checking, sensor detection etc. The article &quot; Designing dynamic simulations&quot; describes this in details. In general, you should set your dynamic models to be non-static and respondable, while for the more detailed visualization models they should be static and non-respondable. In addition, you should also set parameters such as mass/inertia properly to the dynamics models. This may require you to know the mathematic model of your robot.</p><h3 id="set-up-a-simulation-scene" style="position:relative"><a href="#set-up-a-simulation-scene" aria-label="set up a simulation scene permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Set up a simulation scene</h3><p>Once your robot is set up, you can now add more sensors to it. And according to your application, you can even set up different environments such as an office room or a dessert area. Again you may need to tweak the script of the object you add to the scene to make it behave like what you want.</p><h3 id="connect-v-rep-with-your-application" style="position:relative"><a href="#connect-v-rep-with-your-application" aria-label="connect v rep with your application permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Connect V-REP with your application</h3><p>Now you&#x27;ve got a robot simulated and running in V-REP. What&#x27;s next? You probably want to read sensor data from the simulated robot and do control over it. That&#x27;s the main point you want to set up a simulator for it.</p><p>V-REP provides a few methods to do so. Basically there are two types of interfacing methods: internal communication and inter-process communication. Refer to this <!-- -->*<!-- --> <a href="http://www.coppeliarobotics.com/helpFiles/en/externalControllerTutorial.htm">tutorial</a> to know more about the advantages and disadvantages of each method. If you want to use similar code to control both the simulated robot and the real robot, the remote API may be the best one to use. The work flow is that you first start a server when you start the simulation, then call the remote API functions in your normal control code to read sensor data and send motor commands. Your code acts as a client respect to the server. Watch this nice <a href="https://www.youtube.com/watch?v=SQont-mTnfM">video</a> for an example and read this <a href="http://www.coppeliarobotics.com/helpFiles/en/remoteApiModusOperandi.htm">article</a> to know more about the remote API. At this point, you should be able to have a much better understanding of these articles: <a href="http://www.coppeliarobotics.com/helpFiles/en/meansOfCommunication.htm">article1</a>, <a href="http://www.coppeliarobotics.com/helpFiles/en/writingCode.htm">article2</a>.</p><p>Another point that&#x27;s worthy of mentioning is that there are different ways of communication between sensors and actuators as discussed in &quot;Means of communication in and around V-REP&quot;. The regular API provides support for all of them, but it&#x27;s not the case for the remote API. If a sensor is using tube to publish its data and you want to get the data via the remote API. One easy solution is that you can just modify the script of that sensor and use signals to send out data, which is a way that both regular API and remote API support.</p><p><strong>Reference</strong></p><ul><li><a href="https://www.youtube.com/watch?v=xI-ZEewIzzI">Youtube Video - Line-Following Robot V-Rep Tutorial</a></li><li><a href="http://www.coppeliarobotics.com/helpFiles/en/mainScript.htm">V-REP Doc - The main script</a></li><li><a href="http://www.coppeliarobotics.com/helpFiles/en/childScripts.htm">V-REP Doc - Child scripts</a></li><li><a href="http://www.coppeliarobotics.com/helpFiles/en/designingDynamicSimulations.htm">V-REP Doc - Designing dynamic simulations</a></li><li><a href="http://www.coppeliarobotics.com/helpFiles/en/rigidBodyTutorial.htm">V-REP Tutorial - Importing and preparing rigid bodies tutorial</a></li><li><a href="http://www.coppeliarobotics.com/helpFiles/en/externalControllerTutorial.htm">V-REP Tutorial - External controller</a></li><li><a href="https://www.youtube.com/watch?v=SQont-mTnfM">Youtube Video - Connect V-REP and Python through Remote API</a></li><li><a href="http://www.coppeliarobotics.com/helpFiles/en/remoteApiModusOperandi.htm">V-REP Doc - Remote API modus operandi</a></li><li><a href="http://www.coppeliarobotics.com/helpFiles/en/meansOfCommunication.htm">V-REP Doc - Means of communication in and around V-REP</a></li><li><a href="http://www.coppeliarobotics.com/helpFiles/en/writingCode.htm">V-REP Doc - Writing code in and around V-REP</a></li></ul><h2 id="case-study-create-a-quadrotor-simulation-in-v-rep" style="position:relative"><a href="#case-study-create-a-quadrotor-simulation-in-v-rep" aria-label="case study create a quadrotor simulation in v rep permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Case Study: Create a Quadrotor Simulation in V-REP</h2><p>In this case study, you will see how to create the simulation of the AscTec Hummingbird Quadrotor.</p><p>Components for the simulation:</p><ul><li>Quadrotor main frame</li><li>4 propellers</li><li>IMU sensor(gyro + accelerometer)</li></ul><p>It&#x27;s highly recommended to read this <a href="http://www.coppeliarobotics.com/helpFiles/en/rigidBodyTutorial.htm">official tutorial</a> and follow the steps by yourself before you start creating a simulation of your own robot. This case study assumes you&#x27;ve already read the contents of this tutorial and the previous sections of this wiki. The goal is only to show you the work flow of using V-REP with a more specific example, thus a lot of operation details are omitted. If you get any problems in the process, <strong>always remember</strong> to check the <a href="http://www.coppeliarobotics.com/helpFiles/index.html">official documentation</a> and the <a href="http://www.forum.coppeliarobotics.com/index.php">official forum</a>. In most cases you should be able to find the answer. It&#x27;s also very common that you check the implementation of a existing robot model to get an idea of how to implement a specific feature on your own robot. The example robot models and scenes provided by V-REP are very good resources for you to learn V-REP. In addition, you can try to post your question on the forum. According to my experience, they respond to questions very fast.</p><h3 id="prepare-the-robot-model" style="position:relative"><a href="#prepare-the-robot-model" aria-label="prepare the robot model permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Prepare the robot model</h3><p>You need to prepare the mechanical model file(.stl, .obj) to create the body of your robot. If you just want to do experiments with a simulated robot and don&#x27;t really want to design the mechanical structure by yourself, <a href="https://grabcad.com/">this website</a> is a good place for you to look for existing 3d models. People share mechanical designs like RC-Cars, Quarotors on this site and you can use them to create the simulation. Also get yourself familiar with the robot library of V-REP. It&#x27;s very helpful if you know what components are already available so that you can reuse them conveniently. Actuators and sensors are two types of the most commonly used components from V-REP to build your customized robot.</p><p>V-REP provides a very powerful tool to create and modify mechanical model. It&#x27;s recommended that you assemble all the parts together in Solidworks(or other software you prefer) first and export the robot model into a single stl file. You can import this stl to V-REP and divide the model into smaller parts later. Comparatively it can be very tedious and difficult if you import all parts (a set of .stl files) into V-REP directly and then try to assemble them to the right place, especially if your robot consists of a lot of parts.</p><p>Download the stl file for the hummingbird quadrotor from the AscTec <a href="http://wiki.asctec.de/display/AR/CAD+Models">wiki</a>. Import the model into V-REP.</p><p><span class="gatsby-resp-image-wrapper" style="position:relative;display:block;margin-left:auto;margin-right:auto;max-width:960px">
      <span class="gatsby-resp-image-background-image" style="padding-bottom:63.33333333333333%;position:relative;bottom:0;left:0;background-image:url(&#x27;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAANCAIAAAAmMtkJAAAACXBIWXMAAAsTAAALEwEAmpwYAAACf0lEQVQoz0WPWU/bQBSF/Yv70JdKvPWl7UsLLaWCJgEn2BnP2DMejx27OBvQRQLC0mYp2WhZmhASEtzEWyKqqoHQo09X517pSOdyGCtUJSrBiiwzTTUMJisKREjBeIqCCZExhkhRsCIrMpSRSukdXHfgdPqDgdO/7nfHYXh7+6d4clmotQ+bVzO6h82rg3vfOWh2jk66d3Ct7vVpu9fvX7U758PhyPO83G6JZHdZfk+bQmdmRoFOjzS/x7U7rfP2D8cZOMOh73ue72vpzzF5I0HSPLZ5ko7/M3fY8emamE2udXZSrxRcdziZTMbjse/7gFiv3wuRBFwV0QovLa+ByLq0sg5WEnApBt6uSotRaTEGF2OQu2z96nYuXdcNp/J9P5+xCEpQJBoEbmbUlIYQL6uCDngxxZChQoYBVZIUA67XLN409txgHIbBfdg2DCrAhBidByxpxRbAqzk8/0SPvxNtU7aYtJXVtrL6dsbg+p3W8EDzfg/C8WQa9rZzlsVQPq1tpnUmmQtz2rNH+MVjhGKUCjpaI0vPBR2jnE24brd3XCm57uih9se8nd0gRCQv56ActfE6kXhBQ5KdIioCWJQi8wIGSYMmuf51r9GoB0Hw/+e0yYggRuCbpxIGSZ3GLSZYTMSQx5BnRDB1YFCgq4BrXVxcnJ16nvcQ3sqYmiKYTDZ1ieGkKgsqWjeZnKKSTgDDQFMAI4CRJHd+9rP6vRIEwXiqMAwYTsaWF/jIEhSiBCYIjJsaym2wvM3slGKn5A+6kqKShkXOcZybG2c0GrruyHVddzQqFw8LO58Ku1++7u8Ujwrlb/v142KjWm7WKvVqqVEtNWvlZq1cPy79Bf8aVVB5OdJlAAAAAElFTkSuQmCC&#x27;);background-size:cover;display:block"></span>
  <picture>
          <source srcSet="/static/ce5952dec35085a4047e6095cf08afe6/8ac56/vrep_import_quad.webp 240w,/static/ce5952dec35085a4047e6095cf08afe6/d3be9/vrep_import_quad.webp 480w,/static/ce5952dec35085a4047e6095cf08afe6/e46b2/vrep_import_quad.webp 960w,/static/ce5952dec35085a4047e6095cf08afe6/f992d/vrep_import_quad.webp 1440w,/static/ce5952dec35085a4047e6095cf08afe6/79c03/vrep_import_quad.webp 1614w" sizes="(max-width: 960px) 100vw, 960px" type="image/webp"/>
          <source srcSet="/static/ce5952dec35085a4047e6095cf08afe6/8ff5a/vrep_import_quad.png 240w,/static/ce5952dec35085a4047e6095cf08afe6/e85cb/vrep_import_quad.png 480w,/static/ce5952dec35085a4047e6095cf08afe6/d9199/vrep_import_quad.png 960w,/static/ce5952dec35085a4047e6095cf08afe6/07a9c/vrep_import_quad.png 1440w,/static/ce5952dec35085a4047e6095cf08afe6/d3d45/vrep_import_quad.png 1614w" sizes="(max-width: 960px) 100vw, 960px" type="image/png"/>
          <img class="gatsby-resp-image-image" src="/static/ce5952dec35085a4047e6095cf08afe6/d9199/vrep_import_quad.png" alt="Import STL" title="Import STL" loading="lazy" style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0"/>
        </picture>
    </span></p><p>If you want the simulated quadrotor to look better, you can now divide the model into smaller parts and apply textures to different parts.</p><p><span class="gatsby-resp-image-wrapper" style="position:relative;display:block;margin-left:auto;margin-right:auto;max-width:960px">
      <span class="gatsby-resp-image-background-image" style="padding-bottom:63.33333333333333%;position:relative;bottom:0;left:0;background-image:url(&#x27;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAANCAIAAAAmMtkJAAAACXBIWXMAAAsTAAALEwEAmpwYAAACqUlEQVQoz1XN20/TYBgG8P59Jpp4gSZGvfAfIJGYoCELMSgx8QaJ4Zhtbmu7tt/X79Bz2VZOER0MGIexycZhA7ZuQ8CNjs4bM4gm/vLkzXvz5GEwhJqmqqpCMDIN3bYMTAiUEVEUTCmmlCgqpgpEvR8TChFSNV3GJA4gc1arNy5/XVxdNM/rntfpdv2tg1r6RzVTrK3dZr3oZkruWtHNFGuZ27teaiTnklRkmePKadk9bzaqZ7XKddvrdDoLq7tyIk2dVZLqBf8f4qxJ1ko6nXErh0y5fFStl6tutXhcbjYanucpiW/TcSME7KBkByUrBOwwtMPACgPrC7BDwApDezJGPgVFplIsHOQ36k3XbfR0Oh3VtMNsXAAyL0iCBARRjIsCz3MACAgBQeA5nhckKADEnBwdNupuq9X2/Zs7y46poZhj4aQhJ3SQNGVTkVIGmreJY2PHwhriNMTNaYCp5tev9r+3vY7v3/i30isLlgZMBRAQs3WZDU05KjQM8nU5mbIoF51NGHBOByrmGfekfJ1Vry/qfvf3XX9p3sIgqhPBpOKcTdixj4MPH/Q9f/JqcCAampiZGk9ZNGlig4pM9fSkkN9tt1q+371bXkyZisyGghNDgdfDgcH374ZfDrzo77//9Nm90ZEhCnkq8xRyKooz565bOih5nuf/teTYKuZnJsc+jL5lI9MExkzKWlqcwMjoSODR476hwBtLkRSZYyqHB5Vyud2+/ldedEwCowkTLSRVx6aWFjcpZxDeIFzSRGxkZnZyXKeShgXmuFQs5Pf+LXe7XVtHbOizyE6rMKpjjsoxFbGqHKMgooCwpYg6iUt8CPBh5mejftVqXfZcXN0q5Laz6+ntzdW9nY1CLlvIbRVym4XcZj6Xze9k9nYy+/md/G52O7v2Byk8T3uJDjg5AAAAAElFTkSuQmCC&#x27;);background-size:cover;display:block"></span>
  <picture>
          <source srcSet="/static/5f8ae153bf136c7bbe7e1f996e36df11/8ac56/vrep_model_texture.webp 240w,/static/5f8ae153bf136c7bbe7e1f996e36df11/d3be9/vrep_model_texture.webp 480w,/static/5f8ae153bf136c7bbe7e1f996e36df11/e46b2/vrep_model_texture.webp 960w,/static/5f8ae153bf136c7bbe7e1f996e36df11/f992d/vrep_model_texture.webp 1440w,/static/5f8ae153bf136c7bbe7e1f996e36df11/a31b9/vrep_model_texture.webp 1618w" sizes="(max-width: 960px) 100vw, 960px" type="image/webp"/>
          <source srcSet="/static/5f8ae153bf136c7bbe7e1f996e36df11/8ff5a/vrep_model_texture.png 240w,/static/5f8ae153bf136c7bbe7e1f996e36df11/e85cb/vrep_model_texture.png 480w,/static/5f8ae153bf136c7bbe7e1f996e36df11/d9199/vrep_model_texture.png 960w,/static/5f8ae153bf136c7bbe7e1f996e36df11/07a9c/vrep_model_texture.png 1440w,/static/5f8ae153bf136c7bbe7e1f996e36df11/49ee2/vrep_model_texture.png 1618w" sizes="(max-width: 960px) 100vw, 960px" type="image/png"/>
          <img class="gatsby-resp-image-image" src="/static/5f8ae153bf136c7bbe7e1f996e36df11/d9199/vrep_model_texture.png" alt="Model Texture" title="Model Texture" loading="lazy" style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0"/>
        </picture>
    </span></p><h3 id="create-a-simplified-dynamic-model-for-simulation" style="position:relative"><a href="#create-a-simplified-dynamic-model-for-simulation" aria-label="create a simplified dynamic model for simulation permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Create a simplified dynamic model for simulation</h3><p>For this imported stl model, it&#x27;s usually non-convex and not proper for dynamic simulation in terms of performance and stability. It&#x27;s a good practice to create a simpler dynamic model from the original stl model for the simulation. This simplified model is the one actually used by the physics engine to do calculation. In other words, the stl model is mainly used to help create the dynamic model, for example, you can extract a pure shape with similar geometrical characters from the stl model to get the dynamic model of a specific part. And after this process, the stl model is mainly for visual effects.</p><p>In this example, the quadrotor frame is abstracted as a sphere with four cuboid shapes.</p><p><span class="gatsby-resp-image-wrapper" style="position:relative;display:block;margin-left:auto;margin-right:auto;max-width:960px">
      <span class="gatsby-resp-image-background-image" style="padding-bottom:63.33333333333333%;position:relative;bottom:0;left:0;background-image:url(&#x27;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAANCAIAAAAmMtkJAAAACXBIWXMAAAsTAAALEwEAmpwYAAACiElEQVQoz0VSaU8aURSdf970Y5PamBjTWhpZ583bZ96szLC3pq0FxYIiLhB3GAYQKzMwfmrQGE9Obu79cJJzco9ECVE5ZYwQjDWVC6EhjCGChFJMCCaEUIYoUdBqRxgrCHFVhZjkIJTGswd/ev/wbzaZBovFchnHrf6wcTps9kavDJr90f7b6Tf7QdF1DQykQTC+GAbTiT/wb8IwCsOwvNvmpT96tSGqdVFtiEpdq9RFpfFCvbqHvZ/79bp/1ZcG/t3N4GI4GnZ7vZHvz8NQ9XYSKJ9kXpK6SeqmmJfmhRRzU8xNP88U87ZkfTNNpbvL3vlxI5iMh6PROAjCMNQMJy0jSDhABGICVzkhUAClWOUUQkVWFEgYIFwa3t4Evj+fh/EzoiiqFS1Lk8t5teSwos0KFnUErLiiVtDLLi85zFKBpYGCzaRxrzU7q0fLpzhexnG8WCx+7ZQ9m+UNqnPgWQwjuVb2hEDfq86PiktgpphnnkksTZHGg+t5U0SPs/jp6VkcVUuWYDlLQEtTbAMzGcgJptBaOosLjgvlTNXTS3nNEVgKgnG3cxiFb7YrBdNUQXL768bGZ5U5RKHrn9bXPn5LJJKuXbYNppKMyRVLRdJ0Epyfny1XD45fbFdLjqkpqe3ExvqaYEijGcGSGkkylGRIfff+w8bmpqMTUwXS7e319dVlFEWv4qhStHWeK9q84hmlPHdN6Bowr0NHk20BsqktkE1ZglgCSVeXFyfHnWhVrhUWi4UtsJL5gkHC5DlbAIPnTBWYPCtoxlSzrkkMDqiSojAtzWb3j4/zKIrm83n4XLGTTqvZ+N1q7h63906ODrpHf7tHzePDFTuteqe9d9ptd9rN1kH9P8FRVsGXUzNQAAAAAElFTkSuQmCC&#x27;);background-size:cover;display:block"></span>
  <picture>
          <source srcSet="/static/53b366af043baadef4677bb7492923cc/8ac56/vrep_two_models.webp 240w,/static/53b366af043baadef4677bb7492923cc/d3be9/vrep_two_models.webp 480w,/static/53b366af043baadef4677bb7492923cc/e46b2/vrep_two_models.webp 960w,/static/53b366af043baadef4677bb7492923cc/f992d/vrep_two_models.webp 1440w,/static/53b366af043baadef4677bb7492923cc/64e79/vrep_two_models.webp 1613w" sizes="(max-width: 960px) 100vw, 960px" type="image/webp"/>
          <source srcSet="/static/53b366af043baadef4677bb7492923cc/8ff5a/vrep_two_models.png 240w,/static/53b366af043baadef4677bb7492923cc/e85cb/vrep_two_models.png 480w,/static/53b366af043baadef4677bb7492923cc/d9199/vrep_two_models.png 960w,/static/53b366af043baadef4677bb7492923cc/07a9c/vrep_two_models.png 1440w,/static/53b366af043baadef4677bb7492923cc/9040f/vrep_two_models.png 1613w" sizes="(max-width: 960px) 100vw, 960px" type="image/png"/>
          <img class="gatsby-resp-image-image" src="/static/53b366af043baadef4677bb7492923cc/d9199/vrep_two_models.png" alt="Visual and Dynamic Model" title="Visual and Dynamic Model" loading="lazy" style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0"/>
        </picture>
    </span></p><p>Don&#x27;t forget the adjust the properties of the dynamic model, such as mass, inertia.</p><h3 id="add-propellers-and-sensors-to-the-quadrotor" style="position:relative"><a href="#add-propellers-and-sensors-to-the-quadrotor" aria-label="add propellers and sensors to the quadrotor permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Add propellers and sensors to the quadrotor</h3><p>V-REP provides the model of a propeller with particle simulation so you can use it directly on the quadrotor. You can find the model from /components/locomotion in the model browser. Add four of the propeller into the scene and adjust the position of each.</p><p><span class="gatsby-resp-image-wrapper" style="position:relative;display:block;margin-left:auto;margin-right:auto;max-width:960px">
      <span class="gatsby-resp-image-background-image" style="padding-bottom:63.33333333333333%;position:relative;bottom:0;left:0;background-image:url(&#x27;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAANCAIAAAAmMtkJAAAACXBIWXMAAAsTAAALEwEAmpwYAAAC3klEQVQoz02Rz08TeQDF58/yuAc57MVslIu7RqCoKLjJKpog/k4ISxQTgxvMmgr9AZZ2vj+nnR/MtGVcf5DQlipbtlszgDMtZTq00JbODMPJgBdfPnl57/BOj8EQxjnKcQQjyCfiosBDhFkAECEIH4MJhZiwECOMIcYsgDQeBwhFYixj1RvWfqvZ3m/s7TqO63ne2qaZ+bKT12qrJ+Q3rNUNK6dZ32tOq61u7qaUVJyNMBXTMmqNRt3cqVUcx3VcV82so+QKp2ZpOkuXsiR9wtIJ6SxVc6y8nM2u1owtprJdrtZ00zI1w2jU67btUGXZHxWDSA7AxVkgBeFiCMlBKIWgGEbScUDyq3n6V4BlKluaVsztNff1arVsGO32AS8tvlmIIowAiBEMCI5hGMHgjcgBMQ4QO49hlBIEEWKqZaNumc12u1zbMY7HrfeqxIFQSkTpRaLKNCVhOQEVAakKpypU5gFPFmQe/JOMM+aXTy0t0+rY+s62/lVvNpsrH5dkASoi5kmUgnDg9VQ4+PcHVXqflhKYpTAs0AhPIwm6wFjbZftTvNOsm41GtVpttVqZZVVKsIqIkgI3+fRO76Uu3/nu2devZmcm+wdOXx+6NDc7rQhQIFHGMmul4rrd6RwdHXme57ru25TAwblw4OXDBzfu3rlx++b1m+fPnen+ZXDoSn/fBV9vj//lC4XHAokxe/XdjQ3NdY8f9jzv8PDw3ZKYQOzYkzOPn3T1+S6cPfvzyOgf90YH+y7/NP70t/GxkVvDvoB/Wk5ApqLrZUO3bfuHscTT6NTzscGr/b09F58/+zMlxpI8GZ/41XftVE/PxYnx+9NTkzIPmPLXrVKp6DjO4Xe5Lk9iAf+LhbCfglBKgkkRUBhMoHA0NDP28NHvQwOjI8Ox+RnChpn9Rv3goOM4tm0f2HbHcZxSsbCWX/k3nykW8v+v50/883+FfKmY39IK+mZJKxUKn3OFtdw32uw+GcxSZvIAAAAASUVORK5CYII=&#x27;);background-size:cover;display:block"></span>
  <picture>
          <source srcSet="/static/86a624a2768da395e3dce10e373dd6a7/8ac56/vrep_quad_prop.webp 240w,/static/86a624a2768da395e3dce10e373dd6a7/d3be9/vrep_quad_prop.webp 480w,/static/86a624a2768da395e3dce10e373dd6a7/e46b2/vrep_quad_prop.webp 960w,/static/86a624a2768da395e3dce10e373dd6a7/f992d/vrep_quad_prop.webp 1440w,/static/86a624a2768da395e3dce10e373dd6a7/1548f/vrep_quad_prop.webp 1616w" sizes="(max-width: 960px) 100vw, 960px" type="image/webp"/>
          <source srcSet="/static/86a624a2768da395e3dce10e373dd6a7/8ff5a/vrep_quad_prop.png 240w,/static/86a624a2768da395e3dce10e373dd6a7/e85cb/vrep_quad_prop.png 480w,/static/86a624a2768da395e3dce10e373dd6a7/d9199/vrep_quad_prop.png 960w,/static/86a624a2768da395e3dce10e373dd6a7/07a9c/vrep_quad_prop.png 1440w,/static/86a624a2768da395e3dce10e373dd6a7/61583/vrep_quad_prop.png 1616w" sizes="(max-width: 960px) 100vw, 960px" type="image/png"/>
          <img class="gatsby-resp-image-image" src="/static/86a624a2768da395e3dce10e373dd6a7/d9199/vrep_quad_prop.png" alt="Add Propellers" title="Add Propellers" loading="lazy" style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0"/>
        </picture>
    </span></p><p>If you want the simulated Hummingbird to be more like the real one in appearance, you can hide the visible parts of the provided propeller model and use a better-looking propeller model. For example, you can download this propeller model from <a href="https://grabcad.com/library/8x3-8-propeller-1">GrabCAD site</a>.</p><p>V-REP also provides models for the sensors. Simply drag a gyro and a accelerometer into the scene and place them at a proper position on the quadrotor. The final quadrotor model is shown in the image below. You can also check the hierarchy structure of the simulated robot in this screenshot.</p><p><span class="gatsby-resp-image-wrapper" style="position:relative;display:block;margin-left:auto;margin-right:auto;max-width:960px">
      <span class="gatsby-resp-image-background-image" style="padding-bottom:63.33333333333333%;position:relative;bottom:0;left:0;background-image:url(&#x27;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAANCAIAAAAmMtkJAAAACXBIWXMAAAsTAAALEwEAmpwYAAACsklEQVQoz1WH20/TcABG+xdqQtTIu/qgiVFjjECiiSQmhgcVwSgYd2Nbf/de1rUdg01EibA5YMxN7o5d2q67sG7tpi9GIjGenHz5DgcBYJRQgiEEAqOSJEAEo4CHGEOEIEIIE4hRFPz5AMIoDyhjAKEFnucsu2W1TzunbbvV8LzBr5/D/KGR2avnDqxzG7lD6+u/tDaP7OXFpASjXMUwy2azaRuGWXFdz3XddKZAl9alVEY8U/hfMZ1FibXMRtYoH3KV6knNLNctY+/4uNlsup4nLn6eB2qAJvxE92EtQPQgTQSIFiRqkP7NuYg4G0Bc9Wj/oJhttlvVhtWwrH6/r6haOMoTShGCjGGBIYHwDIXjElZlTOECxUAQKCKEq52UG6bZ7Tr1ZqNerzuOs5rWJBxcUmlKF1O6oMeQKsHFOEslpKRKNRnFBT6h4A9JmTN3N7v7G92+W2lYtVrNcZwvn1KJOElqTBGBIgIthhUZf1yOr60k1lY0VQIiCSkSHxN4zqqW+1tyt2VV7aZhGF3HWV9L6zLSYlimEUUEofdvZicfAz6QiLP38zMz01N6DOkxFGeAs0zze7HQcxz7tGPbdq/XW1nWRBxSZSCSMIr4Xr+cGrs6cuHSxSeTY765V4oANAnLlFdFxLVsa39/z/O84XA4GAw8z1tN6zjq883PzL+dHh29cuXyyMSj++Nj129cG30+9XTi4b37d28RENBkxFXKPyon5X6/PzxjMBispnWBhEUSJrw/5J9LauyDTjSRn33x7M7tm+PjD2TGKwIfFwFXPjr6Xiq6rjc8RxGg/91MJDgn04VljSpCRMR+mQR1mV9UEEMhBoMUBBgMci3bbrXanU6n3f6znU6nVNjO59bzuY1v+Wyp8LW0kysVNos7uW/b2WI+u1vM72xl8puZna3sb9EbS+HVY4WqAAAAAElFTkSuQmCC&#x27;);background-size:cover;display:block"></span>
  <picture>
          <source srcSet="/static/29b8a62b1da00785e555f59add070876/8ac56/vrep_quad_final.webp 240w,/static/29b8a62b1da00785e555f59add070876/d3be9/vrep_quad_final.webp 480w,/static/29b8a62b1da00785e555f59add070876/e46b2/vrep_quad_final.webp 960w,/static/29b8a62b1da00785e555f59add070876/f992d/vrep_quad_final.webp 1440w,/static/29b8a62b1da00785e555f59add070876/1548f/vrep_quad_final.webp 1616w" sizes="(max-width: 960px) 100vw, 960px" type="image/webp"/>
          <source srcSet="/static/29b8a62b1da00785e555f59add070876/8ff5a/vrep_quad_final.png 240w,/static/29b8a62b1da00785e555f59add070876/e85cb/vrep_quad_final.png 480w,/static/29b8a62b1da00785e555f59add070876/d9199/vrep_quad_final.png 960w,/static/29b8a62b1da00785e555f59add070876/07a9c/vrep_quad_final.png 1440w,/static/29b8a62b1da00785e555f59add070876/61583/vrep_quad_final.png 1616w" sizes="(max-width: 960px) 100vw, 960px" type="image/png"/>
          <img class="gatsby-resp-image-image" src="/static/29b8a62b1da00785e555f59add070876/d9199/vrep_quad_final.png" alt="Simulated Hummingbird" title="Simulated Hummingbird" loading="lazy" style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0"/>
        </picture>
    </span></p><h3 id="write-code-to-interface-with-the-quadrotor" style="position:relative"><a href="#write-code-to-interface-with-the-quadrotor" aria-label="write code to interface with the quadrotor permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Write code to interface with the quadrotor</h3><p>By now you should have got a working simulated Hummingbird qaudrotor in V-REP. You need to write code to communicate with it(read sensor data from it and send motor commands to it). Here is an example of using the remoteAPI.</p><p>On the V-REP side, add a threaded-script file to the quadrotor model and add the following scripts in it:</p><p>(Lua script omitted, refer to VREP sample)</p><p>The above script can start a service when you start the simulation and then you can use remoteAPI functions in your C/C++ program to communicate with the simulation. The code below only shows the general structure to establish a connection between a client and a server.</p><div class="gatsby-highlight"><style data-emotion="css 1wertj5">.css-1wertj5{text-align:left;padding:2rem 1rem 1rem 1rem;overflow:auto;white-space:pre;word-spacing:normal;word-break:normal;border-radius:5px;-webkit-overflow-scrolling:touch;overflow-wrap:break-word;box-shadow:1px 1px 20px rgba(20, 20, 20, 0.27);}.css-1wertj5 code{float:left;min-width:100%;padding-right:1rem;}.css-1wertj5 .token-line{line-height:22px;font-size:14px;min-width:100%;}.css-1wertj5 .highlight-line{background-color:#44475a;margin-left:-1rem;margin-right:-2rem;padding:0 0.75rem;border-left:4px solid #8257E6;}</style><pre class="prism-code language-c++ css-1wertj5 eiqe2b57" style="color:#F8F8F2;background-color:#282A36"><style data-emotion="css 1r5hp7i">.css-1r5hp7i{position:absolute;top:0;right:0;z-index:1;border-radius:0 5px 0 5px;padding:0.25rem 0.6rem;border:none;cursor:pointer;background:#44475a;color:rgb(248, 248, 242);-webkit-transition:all 200ms ease;transition:all 200ms ease;font-size:12px;}.css-1r5hp7i:disabled{cursor:not-allowed;}.css-1r5hp7i:not(:disabled):hover,.css-1r5hp7i:not(:disabled):focus{background:#8257E6;}</style><button class="css-1r5hp7i eiqe2b50">Copy</button><code><div class="token-line" style="color:#F8F8F2"><span class="token plain">#include &lt;stdio.h&gt;</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">#include &lt;stdlib.h&gt;</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">#include &lt;iostream&gt;</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">#include &lt;unistd.h&gt;</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">extern &quot;C&quot; {</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">    #include &quot;extApi.h&quot;</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">/*  #include &quot;extApiCustom.h&quot; // custom remote API functions */</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">}</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">using namespace RobotToolkitRIVeR;</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">int main(int argc,char* argv[])</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">{</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">    if (argc&gt;=1)</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">    {</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">        portNb=atoi(argv[1]);</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">    }</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">    else</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">    {</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">        printf(&quot;Please indicate following argument(s): &#x27;portNumber&#x27;!\n&quot;);</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">        extApi_sleepMs(5000);</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">        return 0;</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">    }</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">    // start a connection with the server</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">    simxInt clientID = simxStart((simxChar*)&quot;127.0.0.1&quot;,portNb,true,true,2000,5);</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">    if (clientID!=-1)</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">    {</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">        std::cout &lt;&lt; &quot;INFO: Connected to server.&quot; &lt;&lt; std::endl;</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">        std::cout &lt;&lt; &quot;INFO: Enter control loop.&quot; &lt;&lt; std::endl;</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">            // the control loop starts here</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">        while (simxGetConnectionId(clientID)!=-1)</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">        {</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">            // 1. receive data from robot</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">                    // remoteAPI function calls</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">            // 2. process data and do calculation</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">                    // custom function calls</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">            // 3. send command to robot</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">                    // remoteAPI function calls</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">            extApi_sleepMs(2);</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">        }</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">        std::cout &lt;&lt; &quot;INFO: Exit control loop.&quot; &lt;&lt; std::endl;</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">            // close the connection with server</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">        simxFinish(clientID);</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">    }</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">    else</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">    {</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">        std::cout &lt;&lt; &quot;ERROR: Failed to connect to server&quot; &lt;&lt; std::endl;</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">    }</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">    return(0);</span></div><div class="token-line" style="color:#F8F8F2"><span class="token plain">}</span></div></code></pre></div><p>Refer to the tutorials and example scenes to learn how to use remoteAPI, as well as ROS, Matlab interfaces. The &quot;controlTypeExamples&quot; scene provided by V-REP is extremely useful for you to learn how each of the interfaces work, both on the V-REP side and on your own code side. You can find more information from this <a href="http://www.coppeliarobotics.com/helpFiles/index.html">page</a>.</p><p>A demonstration video can be found <a href="https://www.youtube.com/watch?v=KdsSgi3Ejbc">here</a>. In this video, direct motor commands were sent to the quadrotor and the quadrotor lift up right after receiving the commands.</p><style data-emotion="css 1vvt293">.css-1vvt293{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-text-decoration:none;text-decoration:none;margin-top:48px;color:#6C6C80;opacity:0.8;font-size:14px;font-weight:normal;}</style><a href="https://github.com/rxdu/note/tree/main/src/docs/tech-notes/robotics/simulation/how_a_simulator_works.mdx" target="_blank" rel="noopener noreferrer" class="css-1vvt293"><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 24 24" style="margin-right:5px" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34c-.39-.39-1.02-.39-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z"></path></svg>Edit this page on <!-- -->GitHub</a><style data-emotion="css ns1hxi">.css-ns1hxi{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;padding:48px 0;width:100%;}@media (max-width: 780px){.css-ns1hxi{-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;}}</style><section class="css-ns1hxi e1jikabl1"><style data-emotion="css 10sjsqn">.css-10sjsqn{-webkit-transition:all 200ms;transition:all 200ms;margin-left:auto;}.css-10sjsqn a{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-text-decoration:none;text-decoration:none;-webkit-box-pack:center;-ms-flex-pack:center;-webkit-justify-content:center;justify-content:center;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;width:100%;height:100%;}.css-10sjsqn a svg{width:25px;height:25px;color:#6C6C80;margin-left:16px;}.css-10sjsqn a p{letter-spacing:0.142em;text-transform:uppercase;font-size:12px;margin:0;color:#6C6C80;}.css-10sjsqn a h3{color:#6C6C80;border:none;margin:0;padding:0;font-size:16px;}.css-10sjsqn:hover{opacity:0.8;}.css-10sjsqn:hover a svg{opacity:0.8;}@media (max-width: 780px){.css-10sjsqn{width:100%;}.css-10sjsqn a{-webkit-box-pack:end;-ms-flex-pack:end;-webkit-justify-content:flex-end;justify-content:flex-end;}}</style><div class="css-10sjsqn e1jikabl0"><a href="https://rdu.im"><div><p>Next</p><h3>Back to Main Page</h3></div><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 24 24" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M8.59 16.34l4.58-4.59-4.58-4.59L10 5.75l6 6-6 6z"></path></svg></a></div></section></div><style data-emotion="css 106zi9a">.css-106zi9a{position:-webkit-sticky;position:sticky;top:0;-webkit-order:2;-ms-flex-order:2;order:2;padding-top:72px;max-height:calc(100vh - 72px);overflow-y:auto;overflow-x:hidden;width:100%;max-width:200px;}@media (max-width: 1200px){.css-106zi9a{position:relative;top:auto;-webkit-order:0;-ms-flex-order:0;order:0;max-width:100%;margin-left:0;padding-top:0;}}</style><div class="css-106zi9a e10o0eax1"><style data-emotion="css 1gnn5iw">.css-1gnn5iw h2{text-transform:uppercase;font-size:14px;font-weight:bold;letter-spacing:0.142em;margin-top:0rem;border:none;margin:0 0 16px 0;}.css-1gnn5iw nav ul{padding-left:0;margin-bottom:0;list-style:none;}.css-1gnn5iw nav ul li{margin-bottom:12px;line-height:1.1;}.css-1gnn5iw nav ul li a{font-size:14px;font-weight:400;-webkit-text-decoration:none;text-decoration:none;-webkit-transition:all 0.2s;transition:all 0.2s;overflow-wrap:break-word;}.css-1gnn5iw nav ul li a:hover{-webkit-text-decoration:underline;text-decoration:underline;}@media (max-width: 1200px){.css-1gnn5iw{margin:0 0 24px 0;padding-bottom:16px;border-bottom:1px solid rgba(120, 117, 122, 0.2);}}</style><div class="css-1gnn5iw e10o0eax0"><h2>On this page</h2><nav><ul><li><a href="#robot-simulator" style="color:#6C6C80">Robot Simulator</a></li><li><a href="#robot-simulation-in-v-rep" style="color:#6C6C80">Robot Simulation in V-REP</a></li><li style="margin-left:8px"><a href="#key-components-of-a-simulation-in-v-rep" style="color:#6C6C80">Key components of a simulation in V-REP</a></li><li style="margin-left:8px"><a href="#create-a-robot-model" style="color:#6C6C80">Create a robot model</a></li><li style="margin-left:8px"><a href="#set-up-a-simulation-scene" style="color:#6C6C80">Set up a simulation scene</a></li><li style="margin-left:8px"><a href="#connect-v-rep-with-your-application" style="color:#6C6C80">Connect V-REP with your application</a></li><li><a href="#case-study-create-a-quadrotor-simulation-in-v-rep" style="color:#6C6C80">Case Study: Create a Quadrotor Simulation in V-REP</a></li><li style="margin-left:8px"><a href="#prepare-the-robot-model" style="color:#6C6C80">Prepare the robot model</a></li><li style="margin-left:8px"><a href="#create-a-simplified-dynamic-model-for-simulation" style="color:#6C6C80">Create a simplified dynamic model for simulation</a></li><li style="margin-left:8px"><a href="#add-propellers-and-sensors-to-the-quadrotor" style="color:#6C6C80">Add propellers and sensors to the quadrotor</a></li><li style="margin-left:8px"><a href="#write-code-to-interface-with-the-quadrotor" style="color:#6C6C80">Write code to interface with the quadrotor</a></li></ul></nav></div></div></main><style data-emotion="css 1i8rqjy">.css-1i8rqjy{position:fixed;z-index:10;right:0;bottom:0;padding:0 24px;}</style><div class="css-1i8rqjy e5jhkut4"><img alt="Happy Bot" src="/static/happybot-d9c17b4e76c4a24df4b7c339c835bc86.png" width="120"/></div></div></div><div id="gatsby-announcer" style="position:absolute;top:0;width:1px;height:1px;padding:0;overflow:hidden;clip:rect(0, 0, 0, 0);white-space:nowrap;border:0" aria-live="assertive" aria-atomic="true"></div></div><script id="gatsby-script-loader">/*<![CDATA[*/window.pagePath="/tech-notes/robotics/simulation/how_a_simulator_works";/*]]>*/</script><script id="gatsby-chunk-mapping">/*<![CDATA[*/window.___chunkMapping={"polyfill":["/polyfill-a86e36e1b420663a6838.js"],"app":["/app-4ed2a2c5778d7f379cc6.js"],"component---cache-caches-gatsby-plugin-offline-app-shell-js":["/component---cache-caches-gatsby-plugin-offline-app-shell-js-981b4315cb22891331fe.js"],"component---node-modules-rocketseat-gatsby-theme-docs-core-src-templates-docs-query-js":["/component---node-modules-rocketseat-gatsby-theme-docs-core-src-templates-docs-query-js-fef82a758713bf757015.js"],"component---node-modules-rocketseat-gatsby-theme-docs-core-src-templates-homepage-query-js":["/component---node-modules-rocketseat-gatsby-theme-docs-core-src-templates-homepage-query-js-035d1ac79549e5579580.js"],"component---src-pages-404-js":["/component---src-pages-404-js-6cafbdaa0b2d42f71fb8.js"]};/*]]>*/</script><script src="/polyfill-a86e36e1b420663a6838.js" nomodule=""></script><script src="/component---node-modules-rocketseat-gatsby-theme-docs-core-src-templates-docs-query-js-fef82a758713bf757015.js" async=""></script><script src="/a7629950cb7a18c7593baf47d0acfe798f1cddc4-71726fa5c7beedace9e8.js" async=""></script><script src="/252f366e-6c2ee8b1760f48c82b74.js" async=""></script><script src="/5e2a4920-0d19c636721221f53e2d.js" async=""></script><script src="/545f34e4-639c3bde161e6d86e76b.js" async=""></script><script src="/app-4ed2a2c5778d7f379cc6.js" async=""></script><script src="/f0e45107-d06ba0dd881ba746a4dc.js" async=""></script><script src="/framework-142d678a22ed4f706a7c.js" async=""></script><script src="/webpack-runtime-54a65bf2e0754daa74a1.js" async=""></script></body></html>