{"componentChunkName":"component---node-modules-rocketseat-gatsby-theme-docs-core-src-templates-docs-query-js","path":"/tech-notes/system/jetson/flash-jetson-with-docker","result":{"data":{"mdx":{"id":"0c4d95fd-3fe3-58f6-b2d2-f18a6afcfd4e","excerpt":"For older Jetson boards (such as TX2) that only supports Jetpack 4.x, normally you will need to have a SDK manager in a native Ubuntu 18.04 system to flash theâ€¦","fields":{"slug":"/tech-notes/system/jetson/flash-jetson-with-docker/"},"frontmatter":{"title":"Flash Jetson with SDK Manager in Docker","description":"How to flash Jetson Device with Docker image","image":null,"disableTableOfContents":null},"body":"var _excluded = [\"components\"];\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n/* @jsxRuntime classic */\n/* @jsx mdx */\n\nvar _frontmatter = {\n  \"title\": \"Flash Jetson with SDK Manager in Docker\",\n  \"description\": \"How to flash Jetson Device with Docker image\"\n};\nvar layoutProps = {\n  _frontmatter: _frontmatter\n};\nvar MDXLayout = \"wrapper\";\nreturn function MDXContent(_ref) {\n  var components = _ref.components,\n    props = _objectWithoutProperties(_ref, _excluded);\n  return mdx(MDXLayout, _extends({}, layoutProps, props, {\n    components: components,\n    mdxType: \"MDXLayout\"\n  }), mdx(\"p\", null, \"For older Jetson boards (such as TX2) that only supports Jetpack 4.x, normally you will need to have a SDK manager in a native Ubuntu 18.04 system to flash the system. Otherwise, you can try to \", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"/tech-notes/system/jetson/flash-jetson-with-vm\"\n  }, \"use virtual machine (virtualbox) to flash the board\"), \". But it's not guaranteed to work. This is the case for TX2 + Orbitty carrier board I recently tried. One more method is to use the docker image provided by Nvidia. Here are the steps to do it:\"), mdx(\"h2\", {\n    \"id\": \"get-docker-image\",\n    \"style\": {\n      \"position\": \"relative\"\n    }\n  }, mdx(\"a\", {\n    parentName: \"h2\",\n    \"href\": \"#get-docker-image\",\n    \"aria-label\": \"get docker image permalink\",\n    \"className\": \"anchor before\"\n  }, mdx(\"svg\", {\n    parentName: \"a\",\n    \"aria-hidden\": \"true\",\n    \"focusable\": \"false\",\n    \"height\": \"16\",\n    \"version\": \"1.1\",\n    \"viewBox\": \"0 0 16 16\",\n    \"width\": \"16\"\n  }, mdx(\"path\", {\n    parentName: \"svg\",\n    \"fillRule\": \"evenodd\",\n    \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n  }))), \"Get Docker Image\"), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Download the docker image from: \", mdx(\"a\", {\n    parentName: \"li\",\n    \"href\": \"https://developer.nvidia.com/nvidia-sdk-manager\"\n  }, \"https://developer.nvidia.com/nvidia-sdk-manager\")), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Load and tag the docker image:\")), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-bash\"\n  }, \"$ docker load -i ./sdkmanager-xxx_docker.tar.gz \\n$ docker tag sdkmanager:xxx sdkmanager:latest \\n\")), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Verify the image can run properly:\")), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-bash\"\n  }, \"$ docker run -it --rm sdkmanager:latest --ver\\n\")), mdx(\"h2\", {\n    \"id\": \"use-the-sdk-manager-in-docker\",\n    \"style\": {\n      \"position\": \"relative\"\n    }\n  }, mdx(\"a\", {\n    parentName: \"h2\",\n    \"href\": \"#use-the-sdk-manager-in-docker\",\n    \"aria-label\": \"use the sdk manager in docker permalink\",\n    \"className\": \"anchor before\"\n  }, mdx(\"svg\", {\n    parentName: \"a\",\n    \"aria-hidden\": \"true\",\n    \"focusable\": \"false\",\n    \"height\": \"16\",\n    \"version\": \"1.1\",\n    \"viewBox\": \"0 0 16 16\",\n    \"width\": \"16\"\n  }, mdx(\"path\", {\n    parentName: \"svg\",\n    \"fillRule\": \"evenodd\",\n    \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n  }))), \"Use the SDK Manager in Docker\"), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Start the docker container with proper resource:\")), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-bash\"\n  }, \"$ docker run -it --privileged \\\\\\n    -v /dev/bus/usb:/dev/bus/usb/ \\\\\\n    -v /dev:/dev \\\\\\n    -v /media/$USER:/media/nvidia:slave \\\\\\n    --name JetPack_TX2 --network host sdkmanager:latest \\\\\\n    --cli install --logintype devzone --product Jetson --version 4.6.2 --targetos Linux --host --target JETSON_TX2_TARGETS --flash all --additionalsdk 'DeepStream 6.0.1'\\n\")), mdx(\"p\", null, \"Now you should have a TUI similar to the GUI-version of SDK manager. Choose the right target board and start installing packages and creating the OS image.\"), mdx(\"p\", null, mdx(\"span\", {\n    parentName: \"p\",\n    \"className\": \"gatsby-resp-image-wrapper\",\n    \"style\": {\n      \"position\": \"relative\",\n      \"display\": \"block\",\n      \"marginLeft\": \"auto\",\n      \"marginRight\": \"auto\",\n      \"maxWidth\": \"960px\"\n    }\n  }, \"\\n      \", mdx(\"span\", {\n    parentName: \"span\",\n    \"className\": \"gatsby-resp-image-background-image\",\n    \"style\": {\n      \"paddingBottom\": \"54.166666666666664%\",\n      \"position\": \"relative\",\n      \"bottom\": \"0\",\n      \"left\": \"0\",\n      \"backgroundImage\": \"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAAAsTAAALEwEAmpwYAAABGElEQVQoz62RQU7DMBBFZ8aOk5jEieM1ggRRCaJWhAq4FyfgQLBF3O6DjYpaNdBWYvFkyTP+fvbQ2Fgs8gxXSmMQwcCMngTLXmFaKdyNCtNU4v7BYnVpsMgy9MwYWGahs1DBVCWIaIfrC8bTkrG+ZaxvCI8joT/XIJ3t9e7QuhaudmCihKQC40UYH0x4ZcIbE96J8JybFLjpnYOUUrM3WSI0RHBblH+ZbRCRw02nwMz/G6i1BvNph6LEb5CtCuhMgYXnYYLSgqZxqKoK1loURYE8zxPGmJ817tMxdvGfu84jhIAQOtR1nQLiQCOxHu3iaylaHAxUgta36LqAzvtkurHankEa8FGBIvC+hfcezjl8//v+OfVl+AmKIuq8uuYIQAAAAABJRU5ErkJggg==')\",\n      \"backgroundSize\": \"cover\",\n      \"display\": \"block\"\n    }\n  }), \"\\n  \", mdx(\"picture\", {\n    parentName: \"span\"\n  }, \"\\n          \", mdx(\"source\", {\n    parentName: \"picture\",\n    \"srcSet\": [\"/static/5658ae1437e7b7b580604cb696fc1fdb/8ac56/jetson_sdk_manager_cli.webp 240w\", \"/static/5658ae1437e7b7b580604cb696fc1fdb/d3be9/jetson_sdk_manager_cli.webp 480w\", \"/static/5658ae1437e7b7b580604cb696fc1fdb/e46b2/jetson_sdk_manager_cli.webp 960w\", \"/static/5658ae1437e7b7b580604cb696fc1fdb/f992d/jetson_sdk_manager_cli.webp 1440w\", \"/static/5658ae1437e7b7b580604cb696fc1fdb/882b9/jetson_sdk_manager_cli.webp 1920w\", \"/static/5658ae1437e7b7b580604cb696fc1fdb/856ad/jetson_sdk_manager_cli.webp 2473w\"],\n    \"sizes\": \"(max-width: 960px) 100vw, 960px\",\n    \"type\": \"image/webp\"\n  }), \"\\n          \", mdx(\"source\", {\n    parentName: \"picture\",\n    \"srcSet\": [\"/static/5658ae1437e7b7b580604cb696fc1fdb/8ff5a/jetson_sdk_manager_cli.png 240w\", \"/static/5658ae1437e7b7b580604cb696fc1fdb/e85cb/jetson_sdk_manager_cli.png 480w\", \"/static/5658ae1437e7b7b580604cb696fc1fdb/d9199/jetson_sdk_manager_cli.png 960w\", \"/static/5658ae1437e7b7b580604cb696fc1fdb/07a9c/jetson_sdk_manager_cli.png 1440w\", \"/static/5658ae1437e7b7b580604cb696fc1fdb/29114/jetson_sdk_manager_cli.png 1920w\", \"/static/5658ae1437e7b7b580604cb696fc1fdb/8e45f/jetson_sdk_manager_cli.png 2473w\"],\n    \"sizes\": \"(max-width: 960px) 100vw, 960px\",\n    \"type\": \"image/png\"\n  }), \"\\n          \", mdx(\"img\", {\n    parentName: \"picture\",\n    \"className\": \"gatsby-resp-image-image\",\n    \"src\": \"/static/5658ae1437e7b7b580604cb696fc1fdb/d9199/jetson_sdk_manager_cli.png\",\n    \"alt\": \"CLI\",\n    \"title\": \"CLI\",\n    \"loading\": \"lazy\",\n    \"style\": {\n      \"width\": \"100%\",\n      \"height\": \"100%\",\n      \"margin\": \"0\",\n      \"verticalAlign\": \"middle\",\n      \"position\": \"absolute\",\n      \"top\": \"0\",\n      \"left\": \"0\"\n    }\n  }), \"\\n        \"), \"\\n    \")), mdx(\"p\", null, \"You may proceed with the TUI-version of SDK manager and finish the flashing process. If the SDK manager fails to flash, you can manually flash the system with the \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"\\\"flash.sh\\\"\"), \" script located at: ~/nvidia/nvidia_sdk/JetPack_4.6.2_Linux_JETSON_TX2_TARGETS/Linux_for_Tegra:\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-bash\"\n  }, \"# open a new terminal and attach to the running container\\n$ docker exec -it <container-id> bash\\n$ cd ~/nvidia/nvidia_sdk/JetPack_4.6.2_Linux_JETSON_TX2_TARGETS/Linux_for_Tegra\\n$ sudo ./flash.sh jetson-tx2 mmcblk0p1\\n\")), mdx(\"p\", null, \"Note: The local user inside the Docker is nvidia with nvidia as the password. The home folder is /home/nvidia.\"), mdx(\"p\", null, \"If you're using a third-party carrier board, you may need to apply the BSP patch before flashing the system:\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-bash\"\n  }, \"$ cd ~/nvidia/nvidia_sdk/JetPack_4.6.2_Linux_JETSON_TX2_TARGETS/Linux_for_Tegra\\n$ wget https://connecttech.com/ftp/Drivers/CTI-L4T-TX2-32.7.2-V001.tgz\\n$ tar -xzf CTI-L4T-TX2-32.7.2-V001.tgz\\n$ cd CTI-L4T & sudo ./install.sh\\n$ sudo ./cti-flash.sh\\n\")), mdx(\"h2\", {\n    \"id\": \"save-the-image\",\n    \"style\": {\n      \"position\": \"relative\"\n    }\n  }, mdx(\"a\", {\n    parentName: \"h2\",\n    \"href\": \"#save-the-image\",\n    \"aria-label\": \"save the image permalink\",\n    \"className\": \"anchor before\"\n  }, mdx(\"svg\", {\n    parentName: \"a\",\n    \"aria-hidden\": \"true\",\n    \"focusable\": \"false\",\n    \"height\": \"16\",\n    \"version\": \"1.1\",\n    \"viewBox\": \"0 0 16 16\",\n    \"width\": \"16\"\n  }, mdx(\"path\", {\n    parentName: \"svg\",\n    \"fillRule\": \"evenodd\",\n    \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n  }))), \"Save the Image\"), mdx(\"p\", null, \"You can save the state of the image so that you don't have to repeat the download and build process again next time when you flash the same board:\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-bash\"\n  }, \"$ docker commit <container-id>  sdkmanager:tx2-orbbity\\n\")), mdx(\"p\", null, \"Note: it may take a long time to save the commit as the size of the image get much bigger with everything downloaded.\"), mdx(\"h2\", {\n    \"id\": \"reference\",\n    \"style\": {\n      \"position\": \"relative\"\n    }\n  }, mdx(\"a\", {\n    parentName: \"h2\",\n    \"href\": \"#reference\",\n    \"aria-label\": \"reference permalink\",\n    \"className\": \"anchor before\"\n  }, mdx(\"svg\", {\n    parentName: \"a\",\n    \"aria-hidden\": \"true\",\n    \"focusable\": \"false\",\n    \"height\": \"16\",\n    \"version\": \"1.1\",\n    \"viewBox\": \"0 0 16 16\",\n    \"width\": \"16\"\n  }, mdx(\"path\", {\n    parentName: \"svg\",\n    \"fillRule\": \"evenodd\",\n    \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n  }))), \"Reference\"), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"[1]\", \" \", mdx(\"a\", {\n    parentName: \"li\",\n    \"href\": \"https://docs.nvidia.com/sdk-manager/docker-containers/index.html\"\n  }, \"https://docs.nvidia.com/sdk-manager/docker-containers/index.html\"))));\n}\n;\nMDXContent.isMDXComponent = true;","headings":[{"depth":2,"value":"Get Docker Image"},{"depth":2,"value":"Use the SDK Manager in Docker"},{"depth":2,"value":"Save the Image"},{"depth":2,"value":"Reference"}]}},"pageContext":{"slug":"/tech-notes/system/jetson/flash-jetson-with-docker/","next":{"label":"Back to Main Page","link":"https://rdu.im"},"repositoryEditUrl":"https://github.com/rxdu/note/tree/main/src/docs/tech-notes/system/jetson/flash-jetson-with-docker.mdx","repositoryProvider":"GitHub"}},"staticQueryHashes":["1954253342","2328931024","2501019404","973074209"]}